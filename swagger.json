{"tags":[{"name":"designer"},{"name":"app-info"},{"name":"icon-pack"},{"name":"app-icon"},{"name":"request-record"}],"components":{"schemas":{"AppInfoCreateSingleRequest":{"properties":{"localizedName":{"type":"string","description":"The localized name of the app in the specified language"},"packageName":{"type":"string","description":"Android package name (e.g., \"com.google.android.apps.maps\")"},"languageCode":{"type":"string","description":"IETF language tag (e.g., \"en\", \"zh-Hans\", \"ja\")"},"mainActivity":{"type":"string","description":"Android main activity class name (e.g., \"com.google.android.maps.MapsActivity\")"},"defaultName":{"type":"string","description":"The default display name of the app (used as fallback when no localized name matches)"}},"required":["defaultName","languageCode","localizedName","mainActivity","packageName"],"type":"object"},"RequestRecordDTO":{"type":"object","properties":{"deletedAt":{"type":"string","format":"date-time","nullable":true},"appInfo":{"$ref":"#\/components\/schemas\/AppInfoDTO"},"id":{"type":"string","format":"uuid","nullable":true},"createdAt":{"type":"string","format":"date-time","nullable":true},"iconPackVersion":{"$ref":"#\/components\/schemas\/IconPackVersionDTO"}}},"PageMetadata":{"properties":{"per":{"format":"int64","type":"integer"},"page":{"format":"int64","type":"integer"},"total":{"format":"int64","type":"integer"}},"required":["page","per","total"],"type":"object"},"IconPackVersionCreate":{"properties":{"versionString":{"type":"string"}},"required":["versionString"],"type":"object"},"DesignerDTO":{"required":["oidcIssuer","oidcSubject"],"type":"object","properties":{"updatedAt":{"format":"date-time","nullable":true,"type":"string"},"id":{"format":"uuid","type":"string","nullable":true},"createdAt":{"format":"date-time","type":"string","nullable":true},"email":{"nullable":true,"type":"string"},"oidcSubject":{"type":"string"},"name":{"nullable":true,"type":"string"},"iconPacks":{"nullable":true,"type":"array","items":{"$ref":"#\/components\/schemas\/IconPackDTO"}},"oidcIssuer":{"type":"string"}}},"IconPackUpdate":{"properties":{"name":{"type":"string"}},"required":["name"],"type":"object"},"AppInfoWithRequestCount":{"required":["appInfo","count"],"type":"object","properties":{"count":{"format":"int64","type":"integer"},"appInfo":{"$ref":"#\/components\/schemas\/AppInfoDTO"}}},"AppLocalizedNameDTO":{"required":["isPrimary","languageCode","name"],"type":"object","properties":{"updatedAt":{"type":"string","nullable":true,"format":"date-time"},"id":{"type":"string","nullable":true,"format":"uuid"},"createdAt":{"type":"string","nullable":true,"format":"date-time"},"languageCode":{"type":"string"},"name":{"type":"string"},"isPrimary":{"type":"boolean"},"appInfo":{"$ref":"#\/components\/schemas\/AppInfoDTO"}}},"PageAppInfoDTO":{"properties":{"metadata":{"$ref":"#\/components\/schemas\/PageMetadata"},"items":{"items":{"$ref":"#\/components\/schemas\/AppInfoDTO"},"type":"array"}},"required":["items","metadata"],"type":"object"},"IconPackCreate":{"properties":{"name":{"type":"string"}},"required":["name"],"type":"object"},"PageAppInfoWithRequestCount":{"properties":{"items":{"type":"array","items":{"$ref":"#\/components\/schemas\/AppInfoWithRequestCount"}},"metadata":{"$ref":"#\/components\/schemas\/PageMetadata"}},"required":["items","metadata"],"type":"object"},"PageRequestRecordDTO":{"properties":{"items":{"items":{"$ref":"#\/components\/schemas\/RequestRecordDTO"},"type":"array"},"metadata":{"$ref":"#\/components\/schemas\/PageMetadata"}},"required":["items","metadata"],"type":"object"},"IconPackVersionTokenRequest":{"properties":{"expireAt":{"format":"date-time","type":"string"}},"required":["expireAt"],"type":"object"},"IconPackDTO":{"required":["name"],"type":"object","properties":{"name":{"type":"string"},"updatedAt":{"type":"string","nullable":true,"format":"date-time"},"designer":{"$ref":"#\/components\/schemas\/DesignerDTO"},"createdAt":{"type":"string","nullable":true,"format":"date-time"},"versions":{"type":"array","nullable":true,"items":{"$ref":"#\/components\/schemas\/IconPackVersionDTO"}},"id":{"type":"string","nullable":true,"format":"uuid"}}},"AppInfoQueryRequestSortOption":{"enum":["relevance","count"],"type":"string"},"AppInfoDTO":{"required":["count","defaultName","mainActivity","packageName"],"type":"object","properties":{"mainActivity":{"type":"string"},"packageName":{"type":"string"},"createdAt":{"type":"string","format":"date-time","nullable":true},"id":{"type":"string","format":"uuid","nullable":true},"localizedNames":{"type":"array","nullable":true,"items":{"$ref":"#\/components\/schemas\/AppLocalizedNameDTO"}},"defaultName":{"type":"string"},"count":{"type":"integer","format":"int64"}}},"IconPackVersionDTO":{"required":["versionString"],"type":"object","properties":{"versionString":{"type":"string"},"id":{"type":"string","format":"uuid","nullable":true},"requestRecords":{"items":{"$ref":"#\/components\/schemas\/RequestRecordDTO"},"type":"array","nullable":true},"iconPack":{"$ref":"#\/components\/schemas\/IconPackDTO"},"createdAt":{"type":"string","format":"date-time","nullable":true}}},"IconPackVersionTokenResponse":{"properties":{"token":{"type":"string"}},"required":["token"],"type":"object"}},"examples":{"String":{"value":"some string"}}},"openapi":"3.0.1","info":{"title":"AppTracker","version":"3.0.0"},"paths":{"\/icon-pack\/create":{"post":{"requestBody":{"required":true,"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackCreate"}}}},"summary":"Create icon pack","responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackDTO"}}}}},"description":"Create a new icon pack","operationId":"postIcon-packCreate","tags":["icon-pack"]}},"\/icon-pack":{"get":{"operationId":"getIcon-pack","tags":["icon-pack"],"description":"List all icon packs for the authenticated designer","responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"type":"array","items":{"$ref":"#\/components\/schemas\/IconPackDTO"}}}}}},"summary":"List icon packs"}},"\/app-icon\/generate-upload-url":{"get":{"parameters":[{"schema":{"type":"string"},"in":"query","required":true,"name":"packageName"}],"summary":"Generate upload URL","operationId":"getApp-iconGenerate-upload-url","responses":{"200":{"description":"Upload URL"}},"tags":["app-icon"],"description":""}},"\/designer\/me":{"get":{"tags":["designer"],"description":"Get the currently authenticated designer's profile","summary":"Get Current Designer","operationId":"getDesignerMe","responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/DesignerDTO"}}},"description":"OK"}}}},"\/request-record\/{requestRecordId}":{"delete":{"summary":"Delete request","operationId":"deleteRequest-recordByRequestRecordId","tags":["request-record"],"description":"Delete a request record","parameters":[{"name":"requestRecordId","required":true,"schema":{"type":"string"},"in":"path"}],"responses":{"200":{"content":{"application\/json":{"schema":{"type":"integer","format":"int64"}}},"description":"OK"}}}},"\/designer\/me\/sync":{"post":{"description":"Fetch and update profile data from OIDC provider's userinfo endpoint","tags":["designer"],"summary":"Sync Designer Profile","operationId":"postDesignerMeSync","responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/DesignerDTO"}}},"description":"OK"}}}},"\/icon-pack\/{iconPackId}\/version\/{versionId}\/token":{"post":{"description":"Generate an access token for an icon pack version","responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackVersionTokenResponse"}}}}},"requestBody":{"required":true,"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackVersionTokenRequest"}}}},"operationId":"postIcon-packByIconPackIdVersionByVersionIdToken","tags":["icon-pack"],"parameters":[{"schema":{"type":"string"},"required":true,"name":"iconPackId","in":"path"},{"schema":{"type":"string"},"required":true,"name":"versionId","in":"path"}],"summary":"Create access token"}},"\/app-icon":{"get":{"tags":["app-icon"],"summary":"Get app icon","parameters":[{"name":"packageName","required":true,"description":"The package name of the app.","in":"query","schema":{"type":"string"}}],"responses":{"307":{"description":"Redirect","headers":{"Location":{"schema":{"type":"string","format":"uri"}}}}},"description":"","operationId":"getApp-icon"}},"\/icon-pack\/{iconPackId}":{"put":{"tags":["icon-pack"],"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackDTO"}}}}},"operationId":"putIcon-packByIconPackId","description":"Update an icon pack's name","summary":"Update icon pack","requestBody":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackUpdate"}}},"required":true},"parameters":[{"in":"path","schema":{"type":"string"},"required":true,"name":"iconPackId"}]},"get":{"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackDTO"}}}}},"tags":["icon-pack"],"operationId":"getIcon-packByIconPackId","summary":"Get icon pack","description":"Get a specific icon pack by ID","parameters":[{"name":"iconPackId","in":"path","required":true,"schema":{"type":"string"}}]},"delete":{"responses":{"200":{"content":{"application\/json":{"schema":{"type":"integer","format":"int64"}}},"description":"OK"}},"tags":["icon-pack"],"operationId":"deleteIcon-packByIconPackId","summary":"Delete icon pack","description":"Delete an icon pack and all its versions","parameters":[{"in":"path","schema":{"type":"string"},"required":true,"name":"iconPackId"}]}},"\/icon-pack\/{iconPackId}\/version\/{versionId}\/requests":{"get":{"summary":"Get requests","operationId":"getIcon-packByIconPackIdVersionByVersionIdRequests","tags":["icon-pack"],"parameters":[{"required":true,"name":"iconPackId","schema":{"type":"string"},"in":"path"},{"required":true,"name":"versionId","schema":{"type":"string"},"in":"path"}],"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/PageRequestRecordDTO"}}}}},"description":"Get requests for an icon pack version"}},"\/app-info\/search":{"get":{"summary":"Search for apps","description":"Search for apps using a simple query or advanced filters. The `query` parameter searches across name, package name, and main activity. Advanced filters (byName, byPackageName, byMainActivity) can be combined with query using AND logic. Use `sortBy` to control result ordering.","operationId":"getApp-infoSearch","parameters":[{"name":"query","description":"Simple unified search - searches across name, packageName, and mainActivity","required":false,"in":"query","schema":{"type":"string","nullable":true}},{"name":"byName","description":"Filter by localized app name (uses similarity matching)","required":false,"in":"query","schema":{"nullable":true,"type":"string"}},{"name":"byPackageName","description":"Filter by package name (uses ILIKE matching)","required":false,"in":"query","schema":{"type":"string","nullable":true}},{"name":"byMainActivity","description":"Filter by main activity (uses ILIKE matching)","required":false,"in":"query","schema":{"type":"string","nullable":true}},{"name":"sortBy","description":"Sort order for results","required":false,"in":"query","schema":{"$ref":"#\/components\/schemas\/AppInfoQueryRequestSortOption"}}],"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/PageAppInfoDTO"}}}}},"tags":["app-info"]}},"\/designer\/requests":{"get":{"operationId":"getDesignerRequests","description":"List all apps with request counts for the currently authenticated designer's icon packs, sorted by request count descending","tags":["designer"],"parameters":[{"in":"query","schema":{"type":"integer","format":"int64","nullable":true},"name":"page","required":false},{"in":"query","schema":{"type":"integer","nullable":true,"format":"int64"},"name":"per","required":false}],"summary":"Get App Request Statistics","responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/PageAppInfoWithRequestCount"}}}}}}},"\/icon-pack\/{iconPackId}\/version\/create":{"post":{"description":"Create a new icon pack version","responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackVersionDTO"}}}}},"requestBody":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackVersionCreate"}}},"required":true},"operationId":"postIcon-packByIconPackIdVersionCreate","tags":["icon-pack"],"parameters":[{"name":"iconPackId","in":"path","schema":{"type":"string"},"required":true}],"summary":"Create icon pack version"}},"\/app-info\/create":{"post":{"summary":"Create or update app information","description":"Creates or updates app information.\nIf an app with the same package name and main activity already exists, it will be updated. Otherwise, a new app will be created.\nLocalized names are also created or updated.\nA request record is created for each app to associate it with the authenticated icon pack.","operationId":"postApp-infoCreate","requestBody":{"required":true,"content":{"application\/json":{"schema":{"type":"array","items":{"$ref":"#\/components\/schemas\/AppInfoCreateSingleRequest"}}}}},"tags":["app-info"],"responses":{"200":{"content":{"application\/json":{"schema":{"type":"array","items":{"$ref":"#\/components\/schemas\/AppInfoDTO"}}}},"description":"OK"}}}},"\/icon-pack\/{iconPackId}\/versions":{"get":{"parameters":[{"name":"iconPackId","in":"path","required":true,"schema":{"type":"string"}}],"tags":["icon-pack"],"description":"List all versions for an icon pack","responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"items":{"$ref":"#\/components\/schemas\/IconPackVersionDTO"},"type":"array"}}}}},"summary":"List icon pack versions","operationId":"getIcon-packByIconPackIdVersions"}}}}