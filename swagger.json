{"components":{"schemas":{"AppLocalizedNameDTO":{"required":["isPrimary","languageCode","name"],"properties":{"name":{"type":"string"},"updatedAt":{"format":"date-time","nullable":true,"type":"string"},"id":{"format":"uuid","nullable":true,"type":"string"},"languageCode":{"type":"string"},"createdAt":{"format":"date-time","nullable":true,"type":"string"},"appInfo":{"$ref":"#\/components\/schemas\/AppInfoDTO"},"isPrimary":{"type":"boolean"}},"type":"object"},"RequestRecord":{"type":"object"},"IconPackDTO":{"required":["name"],"properties":{"id":{"format":"uuid","nullable":true,"type":"string"},"designer":{"$ref":"#\/components\/schemas\/DesignerDTO"},"updatedAt":{"format":"date-time","nullable":true,"type":"string"},"name":{"type":"string"},"createdAt":{"format":"date-time","nullable":true,"type":"string"},"versions":{"items":{"$ref":"#\/components\/schemas\/IconPackVersionDTO"},"nullable":true,"type":"array"}},"type":"object"},"IconPackVersionTokenRequest":{"required":["expireAt"],"type":"object","properties":{"expireAt":{"format":"date-time","type":"string"}}},"IconPackVersionTokenResponse":{"required":["token"],"type":"object","properties":{"token":{"type":"string"}}},"PageMetadata":{"required":["page","per","total"],"type":"object","properties":{"total":{"type":"integer","format":"int64"},"page":{"type":"integer","format":"int64"},"per":{"type":"integer","format":"int64"}}},"IconPackUpdate":{"required":["name"],"type":"object","properties":{"name":{"type":"string"}}},"RequestRecordDTO":{"properties":{"appInfo":{"$ref":"#\/components\/schemas\/AppInfoDTO"},"createdAt":{"format":"date-time","nullable":true,"type":"string"},"deletedAt":{"format":"date-time","nullable":true,"type":"string"},"id":{"format":"uuid","nullable":true,"type":"string"},"iconPackVersion":{"$ref":"#\/components\/schemas\/IconPackVersionDTO"}},"type":"object"},"PageAppInfoDTO":{"required":["items","metadata"],"type":"object","properties":{"items":{"items":{"$ref":"#\/components\/schemas\/AppInfoDTO"},"type":"array"},"metadata":{"$ref":"#\/components\/schemas\/PageMetadata"}}},"IconPackCreate":{"required":["name"],"type":"object","properties":{"name":{"type":"string"}}},"IconPackVersionCreate":{"required":["versionString"],"type":"object","properties":{"versionString":{"type":"string"}}},"AppInfoDTO":{"required":["count","defaultName","mainActivity","packageName"],"properties":{"packageName":{"type":"string"},"defaultName":{"type":"string"},"mainActivity":{"type":"string"},"id":{"type":"string","format":"uuid","nullable":true},"count":{"type":"integer","format":"int64"},"localizedNames":{"type":"array","nullable":true,"items":{"$ref":"#\/components\/schemas\/AppLocalizedNameDTO"}},"createdAt":{"type":"string","format":"date-time","nullable":true}},"type":"object"},"PageRequestRecord":{"required":["items","metadata"],"type":"object","properties":{"metadata":{"$ref":"#\/components\/schemas\/PageMetadata"},"items":{"type":"array","items":{"$ref":"#\/components\/schemas\/RequestRecord"}}}},"AppInfoQueryRequestSortOption":{"type":"string","enum":["relevance","count"]},"AppInfoCreateSingleRequest":{"required":["defaultName","languageCode","localizedName","mainActivity","packageName"],"type":"object","properties":{"localizedName":{"type":"string","description":"The localized name of the app in the specified language"},"languageCode":{"type":"string","description":"IETF language tag (e.g., \"en\", \"zh-Hans\", \"ja\")"},"packageName":{"type":"string","description":"Android package name (e.g., \"com.google.android.apps.maps\")"},"mainActivity":{"type":"string","description":"Android main activity class name (e.g., \"com.google.android.maps.MapsActivity\")"},"defaultName":{"type":"string","description":"The default display name of the app (used as fallback when no localized name matches)"}}},"IconPackVersionDTO":{"required":["versionString"],"properties":{"versionString":{"type":"string"},"createdAt":{"nullable":true,"format":"date-time","type":"string"},"id":{"nullable":true,"format":"uuid","type":"string"},"iconPack":{"$ref":"#\/components\/schemas\/IconPackDTO"},"requestRecords":{"nullable":true,"type":"array","items":{"$ref":"#\/components\/schemas\/RequestRecordDTO"}}},"type":"object"},"DesignerDTO":{"required":["oidcIssuer","oidcSubject"],"properties":{"email":{"type":"string","nullable":true},"name":{"type":"string","nullable":true},"iconPacks":{"items":{"$ref":"#\/components\/schemas\/IconPackDTO"},"type":"array","nullable":true},"updatedAt":{"nullable":true,"format":"date-time","type":"string"},"id":{"format":"uuid","type":"string","nullable":true},"oidcSubject":{"type":"string"},"createdAt":{"format":"date-time","type":"string","nullable":true},"oidcIssuer":{"type":"string"}},"type":"object"}},"examples":{"String":{"value":"some string"}}},"paths":{"\/icon-pack\/{iconPackId}\/version\/{versionId}\/requests":{"get":{"summary":"Get requests","parameters":[{"schema":{"type":"string"},"name":"iconPackId","in":"path","required":true},{"schema":{"type":"string"},"name":"versionId","in":"path","required":true}],"description":"Get requests for an icon pack version","responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/PageRequestRecord"}}},"description":"OK"}},"tags":["icon-pack"],"operationId":"getIcon-packByIconPackIdVersionByVersionIdRequests"}},"\/designer\/me\/sync":{"post":{"description":"Fetch and update profile data from OIDC provider's userinfo endpoint","tags":["designer"],"summary":"Sync Designer Profile","operationId":"postDesignerMeSync","responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/DesignerDTO"}}}}}}},"\/icon-pack\/create":{"post":{"summary":"Create icon pack","description":"Create a new icon pack","tags":["icon-pack"],"operationId":"postIcon-packCreate","requestBody":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackCreate"}}},"required":true},"responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackDTO"}}},"description":"OK"}}}},"\/app-info\/create":{"post":{"description":"Creates or updates app information.\nIf an app with the same package name and main activity already exists, it will be updated. Otherwise, a new app will be created.\nLocalized names are also created or updated.\nA request record is created for each app to associate it with the authenticated icon pack.","operationId":"postApp-infoCreate","requestBody":{"content":{"application\/json":{"schema":{"type":"array","items":{"$ref":"#\/components\/schemas\/AppInfoCreateSingleRequest"}}}},"required":true},"responses":{"200":{"content":{"application\/json":{"schema":{"items":{"$ref":"#\/components\/schemas\/AppInfoDTO"},"type":"array"}}},"description":"OK"}},"tags":["app-info"],"summary":"Create or update app information"}},"\/app-info\/search":{"get":{"parameters":[{"in":"query","required":false,"schema":{"nullable":true,"type":"string"},"name":"query","description":"Simple unified search - searches across name, packageName, and mainActivity"},{"in":"query","required":false,"schema":{"nullable":true,"type":"string"},"name":"byName","description":"Filter by localized app name (uses similarity matching)"},{"in":"query","required":false,"schema":{"nullable":true,"type":"string"},"name":"byPackageName","description":"Filter by package name (uses ILIKE matching)"},{"in":"query","required":false,"schema":{"type":"string","nullable":true},"name":"byMainActivity","description":"Filter by main activity (uses ILIKE matching)"},{"in":"query","required":false,"schema":{"$ref":"#\/components\/schemas\/AppInfoQueryRequestSortOption"},"name":"sortBy","description":"Sort order for results"}],"summary":"Search for apps","description":"Search for apps using a simple query or advanced filters. The `query` parameter searches across name, package name, and main activity. Advanced filters (byName, byPackageName, byMainActivity) can be combined with query using AND logic. Use `sortBy` to control result ordering.","responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/PageAppInfoDTO"}}},"description":"OK"}},"operationId":"getApp-infoSearch","tags":["app-info"]}},"\/icon-pack\/{iconPackId}\/versions":{"get":{"operationId":"getIcon-packByIconPackIdVersions","parameters":[{"name":"iconPackId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application\/json":{"schema":{"type":"array","items":{"$ref":"#\/components\/schemas\/IconPackVersionDTO"}}}},"description":"OK"}},"description":"List all versions for an icon pack","summary":"List icon pack versions","tags":["icon-pack"]}},"\/designer\/me":{"get":{"tags":["designer"],"summary":"Get Current Designer","description":"Get the currently authenticated designer's profile","responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/DesignerDTO"}}}}},"operationId":"getDesignerMe"}},"\/app-icon":{"get":{"summary":"Get app icon","tags":["app-icon"],"operationId":"getApp-icon","description":"","responses":{"307":{"headers":{"Location":{"schema":{"format":"uri","type":"string"}}},"description":"Redirect"}},"parameters":[{"in":"query","description":"The package name of the app.","name":"packageName","required":true,"schema":{"type":"string"}}]}},"\/icon-pack\/{iconPackId}\/version\/create":{"post":{"requestBody":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackVersionCreate"}}},"required":true},"operationId":"postIcon-packByIconPackIdVersionCreate","description":"Create a new icon pack version","tags":["icon-pack"],"parameters":[{"schema":{"type":"string"},"in":"path","name":"iconPackId","required":true}],"summary":"Create icon pack version","responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackVersionDTO"}}}}}}},"\/app-icon\/generate-upload-url":{"get":{"tags":["app-icon"],"summary":"Generate upload URL","responses":{"200":{"description":"Upload URL"}},"description":"","operationId":"getApp-iconGenerate-upload-url","parameters":[{"required":true,"schema":{"type":"string"},"in":"query","name":"packageName"}]}},"\/request-record\/{requestRecordId}":{"delete":{"summary":"Delete request","tags":["request-record"],"description":"Delete a request record","operationId":"deleteRequest-recordByRequestRecordId","responses":{"200":{"content":{"application\/json":{"schema":{"type":"integer","format":"int64"}}},"description":"OK"}},"parameters":[{"name":"requestRecordId","in":"path","required":true,"schema":{"type":"string"}}]}},"\/icon-pack\/{iconPackId}":{"delete":{"tags":["icon-pack"],"summary":"Delete icon pack","operationId":"deleteIcon-packByIconPackId","parameters":[{"name":"iconPackId","required":true,"schema":{"type":"string"},"in":"path"}],"description":"Delete an icon pack and all its versions","responses":{"200":{"content":{"application\/json":{"schema":{"format":"int64","type":"integer"}}},"description":"OK"}}},"get":{"tags":["icon-pack"],"summary":"Get icon pack","operationId":"getIcon-packByIconPackId","parameters":[{"name":"iconPackId","required":true,"schema":{"type":"string"},"in":"path"}],"description":"Get a specific icon pack by ID","responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackDTO"}}},"description":"OK"}}},"put":{"operationId":"putIcon-packByIconPackId","requestBody":{"required":true,"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackUpdate"}}}},"description":"Update an icon pack's name","tags":["icon-pack"],"parameters":[{"name":"iconPackId","required":true,"schema":{"type":"string"},"in":"path"}],"summary":"Update icon pack","responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackDTO"}}}}}}},"\/icon-pack":{"get":{"tags":["icon-pack"],"description":"List all icon packs for the authenticated designer","operationId":"getIcon-pack","responses":{"200":{"content":{"application\/json":{"schema":{"items":{"$ref":"#\/components\/schemas\/IconPackDTO"},"type":"array"}}},"description":"OK"}},"summary":"List icon packs"}},"\/icon-pack\/{iconPackId}\/version\/{versionId}\/token":{"post":{"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackVersionTokenResponse"}}}}},"parameters":[{"name":"iconPackId","schema":{"type":"string"},"in":"path","required":true},{"name":"versionId","schema":{"type":"string"},"in":"path","required":true}],"description":"Generate an access token for an icon pack version","tags":["icon-pack"],"operationId":"postIcon-packByIconPackIdVersionByVersionIdToken","requestBody":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackVersionTokenRequest"}}},"required":true},"summary":"Create access token"}}},"info":{"version":"3.0.0","title":"AppTracker"},"tags":[{"name":"designer"},{"name":"app-info"},{"name":"icon-pack"},{"name":"app-icon"},{"name":"request-record"}],"openapi":"3.0.1"}