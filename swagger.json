{
  "info": {
    "title": "AppTracker",
    "version": "3.0.0"
  },
  "paths": {
    "/request-record/{requestRecordId}": {
      "delete": {
        "tags": [
          "request-record"
        ],
        "summary": "Delete request",
        "description": "Delete a request record",
        "operationId": "deleteRequest-recordByRequestRecordId",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "format": "int64",
                  "type": "integer"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "requestRecordId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ]
      }
    },
    "/icon-pack/{iconPackId}/version/{versionId}": {
      "delete": {
        "tags": [
          "icon-pack"
        ],
        "parameters": [
          {
            "name": "iconPackId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "versionId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IconPackVersionDTO"
                }
              }
            },
            "description": "OK"
          }
        },
        "description": "Delete an icon pack version, returns the deleted version",
        "summary": "Delete icon pack version",
        "operationId": "deleteIcon-packByIconPackIdVersionByVersionId"
      }
    },
    "/designer/me/sync": {
      "post": {
        "tags": [
          "designer"
        ],
        "description": "Fetch and update profile data from OIDC provider's userinfo endpoint",
        "operationId": "postDesignerMeSync",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DesignerDTO"
                }
              }
            },
            "description": "OK"
          }
        },
        "summary": "Sync Designer Profile"
      }
    },
    "/icon-pack/create": {
      "post": {
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IconPackDTO"
                }
              }
            }
          }
        },
        "description": "Create a new icon pack",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IconPackCreate"
              }
            }
          }
        },
        "summary": "Create icon pack",
        "operationId": "postIcon-packCreate",
        "tags": [
          "icon-pack"
        ]
      }
    },
    "/icon-pack": {
      "get": {
        "summary": "List icon packs",
        "tags": [
          "icon-pack"
        ],
        "operationId": "getIcon-pack",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/IconPackDTO"
                  },
                  "type": "array"
                }
              }
            },
            "description": "OK"
          }
        },
        "description": "List all icon packs for the authenticated designer"
      }
    },
    "/icon-pack/{iconPackId}/versions": {
      "get": {
        "parameters": [
          {
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "required": false,
            "name": "page"
          },
          {
            "in": "query",
            "schema": {
              "format": "int64",
              "nullable": true,
              "type": "integer"
            },
            "required": false,
            "name": "per"
          },
          {
            "in": "path",
            "schema": {
              "type": "string"
            },
            "required": true,
            "name": "iconPackId"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PageIconPackVersionDTO"
                }
              }
            }
          }
        },
        "operationId": "getIcon-packByIconPackIdVersions",
        "description": "List all versions for an icon pack,\nsorted by creation date in descending order",
        "tags": [
          "icon-pack"
        ],
        "summary": "List icon pack versions"
      }
    },
    "/app-icon/generate-upload-url": {
      "get": {
        "description": "",
        "parameters": [
          {
            "in": "query",
            "schema": {
              "type": "string"
            },
            "required": true,
            "name": "packageName"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AppIconGenerateUploadURLResponse"
                }
              }
            }
          }
        },
        "summary": "Generate upload URL",
        "operationId": "getApp-iconGenerate-upload-url",
        "tags": [
          "app-icon"
        ]
      }
    },
    "/designer/requests": {
      "get": {
        "description": "List all apps with request counts for the currently authenticated designer's icon packs, sorted by request count descending",
        "tags": [
          "designer"
        ],
        "summary": "Get App Request of Designer",
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "nullable": true,
              "format": "int64",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "per",
            "required": false,
            "schema": {
              "format": "int64",
              "nullable": true,
              "type": "integer"
            }
          }
        ],
        "operationId": "getDesignerRequests",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PageAppInfoWithRequestCount"
                }
              }
            },
            "description": "OK"
          }
        }
      }
    },
    "/designer/statistics": {
      "get": {
        "tags": [
          "designer"
        ],
        "operationId": "getDesignerStatistics",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DesignerStatisticsResponse"
                }
              }
            }
          }
        },
        "description": "Get statistics for the currently authenticated designer",
        "summary": "Get Designer Statistics"
      }
    },
    "/icon-pack/{iconPackId}/version/{versionId}/token": {
      "post": {
        "parameters": [
          {
            "in": "path",
            "schema": {
              "type": "string"
            },
            "name": "iconPackId",
            "required": true
          },
          {
            "in": "path",
            "schema": {
              "type": "string"
            },
            "name": "versionId",
            "required": true
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IconPackVersionTokenRequest"
              }
            }
          }
        },
        "summary": "Create access token",
        "tags": [
          "icon-pack"
        ],
        "description": "Generate an access token for an icon pack version",
        "operationId": "postIcon-packByIconPackIdVersionByVersionIdToken",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IconPackVersionTokenResponse"
                }
              }
            },
            "description": "OK"
          }
        }
      }
    },
    "/app-icon": {
      "get": {
        "responses": {
          "307": {
            "description": "Redirect",
            "headers": {
              "Location": {
                "schema": {
                  "type": "string",
                  "format": "uri"
                }
              }
            }
          }
        },
        "description": "",
        "summary": "Get app icon",
        "operationId": "getApp-icon",
        "tags": [
          "app-icon"
        ],
        "parameters": [
          {
            "description": "The package name of the app.",
            "schema": {
              "type": "string"
            },
            "name": "packageName",
            "in": "query",
            "required": true
          }
        ]
      }
    },
    "/app-info/create": {
      "post": {
        "operationId": "postApp-infoCreate",
        "tags": [
          "app-info"
        ],
        "description": "Creates or updates app information.\nIf an app with the same package name and main activity already exists, it will be updated. Otherwise, a new app will be created.\nLocalized names are also created or updated.\nA request record is created for each app to associate it with the authenticated icon pack.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/AppInfoCreateSingleRequest"
                }
              }
            }
          },
          "required": true
        },
        "summary": "Create or update app information",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/AppInfoDTO"
                  },
                  "type": "array"
                }
              }
            },
            "description": "OK"
          }
        }
      }
    },
    "/app-info/search": {
      "get": {
        "tags": [
          "app-info"
        ],
        "parameters": [
          {
            "description": "Simple unified search - searches across name, packageName, and mainActivity",
            "in": "query",
            "name": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "required": false
          },
          {
            "description": "Filter by localized app name (uses similarity matching)",
            "in": "query",
            "name": "byName",
            "schema": {
              "nullable": true,
              "type": "string"
            },
            "required": false
          },
          {
            "description": "Filter by package name (uses ILIKE matching)",
            "in": "query",
            "name": "byPackageName",
            "schema": {
              "nullable": true,
              "type": "string"
            },
            "required": false
          },
          {
            "description": "Filter by main activity (uses ILIKE matching)",
            "in": "query",
            "name": "byMainActivity",
            "schema": {
              "nullable": true,
              "type": "string"
            },
            "required": false
          },
          {
            "description": "Sort order for results",
            "in": "query",
            "name": "sortBy",
            "schema": {
              "$ref": "#/components/schemas/AppInfoQueryRequestSortOption"
            },
            "required": false
          }
        ],
        "description": "Search for apps using a simple query or advanced filters. The `query` parameter searches across name, package name, and main activity. Advanced filters (byName, byPackageName, byMainActivity) can be combined with query using AND logic. Use `sortBy` to control result ordering.",
        "summary": "Search for apps",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PageAppInfoDTO"
                }
              }
            }
          }
        },
        "operationId": "getApp-infoSearch"
      }
    },
    "/icon-pack/{iconPackId}/version/{versionId}/requests": {
      "get": {
        "description": "Get requests for an icon pack version",
        "operationId": "getIcon-packByIconPackIdVersionByVersionIdRequests",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PageIconPackVersionRequestRecordResponse"
                }
              }
            }
          }
        },
        "summary": "Get requests of version",
        "tags": [
          "icon-pack"
        ],
        "parameters": [
          {
            "required": false,
            "in": "query",
            "name": "page",
            "schema": {
              "format": "int64",
              "nullable": true,
              "type": "integer"
            }
          },
          {
            "required": false,
            "in": "query",
            "name": "per",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            }
          },
          {
            "in": "query",
            "name": "includingAdapted",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "required": true,
            "in": "path",
            "name": "iconPackId",
            "schema": {
              "type": "string"
            }
          },
          {
            "required": true,
            "in": "path",
            "name": "versionId",
            "schema": {
              "type": "string"
            }
          }
        ]
      }
    },
    "/designer/me": {
      "get": {
        "tags": [
          "designer"
        ],
        "description": "Get the currently authenticated designer's profile",
        "operationId": "getDesignerMe",
        "summary": "Get Current Designer",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DesignerDTO"
                }
              }
            },
            "description": "OK"
          }
        }
      }
    },
    "/icon-pack/{iconPackId}/requests": {
      "get": {
        "summary": "Get requests of icon pack",
        "operationId": "getIcon-packByIconPackIdRequests",
        "description": "List all apps with request counts for a specific icon pack, sorted by request count descending",
        "parameters": [
          {
            "required": false,
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "nullable": true,
              "format": "int64"
            }
          },
          {
            "required": false,
            "name": "per",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            }
          },
          {
            "name": "includingAdapted",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "required": true,
            "name": "iconPackId",
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PageAppInfoWithRequestCount"
                }
              }
            }
          }
        },
        "tags": [
          "icon-pack"
        ]
      }
    },
    "/icon-pack/{iconPackId}": {
      "put": {
        "operationId": "putIcon-packByIconPackId",
        "description": "Update an icon pack's name",
        "tags": [
          "icon-pack"
        ],
        "summary": "Update icon pack",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IconPackUpdate"
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "name": "iconPackId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IconPackDTO"
                }
              }
            },
            "description": "OK"
          }
        }
      },
      "get": {
        "summary": "Get icon pack",
        "description": "Get a specific icon pack by ID,\ndoes not include its icon pack verisons,\nuse `/icon-pack/:iconPackId/versions` instead",
        "operationId": "getIcon-packByIconPackId",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "name": "iconPackId",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IconPackDTO"
                }
              }
            }
          }
        },
        "tags": [
          "icon-pack"
        ]
      },
      "post": {
        "operationId": "postIcon-packByIconPackId",
        "description": "Mark an app as adapted, or remove the adapted mark",
        "tags": [
          "icon-pack"
        ],
        "summary": "Mark app as adapted",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IconPackMarkAppAsAdaptedRequest"
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "in": "path",
            "name": "iconPackId",
            "schema": {
              "type": "string"
            },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/IconPackAppDTO"
                  },
                  "type": "array"
                }
              }
            },
            "description": "OK"
          }
        }
      },
      "delete": {
        "summary": "Delete icon pack",
        "description": "Delete an icon pack and all its versions",
        "operationId": "deleteIcon-packByIconPackId",
        "parameters": [
          {
            "in": "path",
            "name": "iconPackId",
            "schema": {
              "type": "string"
            },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "integer",
                  "format": "int64"
                }
              }
            }
          }
        },
        "tags": [
          "icon-pack"
        ]
      }
    },
    "/render-leaf": {
      "post": {
        "tags": [
          "render-leaf"
        ],
        "description": "Render a Leaf template, documentation is available at https://docs.vapor.codes/leaf/",
        "operationId": "postRender-leaf",
        "requestBody": {
          "content": {
            "application/json": {
              "examples": {
                "RenderRequest": {
                  "$ref": "#/components/examples/RenderRequest"
                }
              },
              "schema": {
                "$ref": "#/components/schemas/RenderRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RenderResponse"
                }
              }
            },
            "description": "OK"
          }
        },
        "summary": "Render a template"
      }
    },
    "/icon-pack/{iconPackId}/version/create": {
      "post": {
        "operationId": "postIcon-packByIconPackIdVersionCreate",
        "description": "Create a new icon pack version",
        "tags": [
          "icon-pack"
        ],
        "summary": "Create icon pack version",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "name": "iconPackId",
            "in": "path",
            "required": true
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IconPackVersionCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IconPackVersionDTO"
                }
              }
            }
          }
        }
      }
    },
    "/icon-pack/{iconPackId}/adapted-apps": {
      "get": {
        "parameters": [
          {
            "in": "query",
            "required": false,
            "schema": {
              "format": "int64",
              "nullable": true,
              "type": "integer"
            },
            "name": "page"
          },
          {
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "nullable": true,
              "format": "int64"
            },
            "name": "per"
          },
          {
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "name": "iconPackId"
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PageAppInfoDTO"
                }
              }
            },
            "description": "OK"
          }
        },
        "tags": [
          "icon-pack"
        ],
        "summary": "Get adapted apps",
        "description": "Get the list of apps that have been adapted",
        "operationId": "getIcon-packByIconPackIdAdapted-apps"
      }
    }
  },
  "openapi": "3.0.1",
  "components": {
    "examples": {
      "RenderRequest": {
        "value": {
          "template": "#for(f in foo):\nItem #(f)\n#endfor",
          "context": {
            "foo": [
              1,
              2
            ]
          }
        }
      }
    },
    "schemas": {
      "IconPackVersionTokenRequest": {
        "type": "object",
        "properties": {
          "expireAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "expireAt"
        ]
      },
      "PageAppInfoDTO": {
        "type": "object",
        "properties": {
          "metadata": {
            "$ref": "#/components/schemas/PageMetadata"
          },
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AppInfoDTO"
            }
          }
        },
        "required": [
          "items",
          "metadata"
        ]
      },
      "PageAppInfoWithRequestCount": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AppInfoWithRequestCount"
            }
          },
          "metadata": {
            "$ref": "#/components/schemas/PageMetadata"
          }
        },
        "required": [
          "items",
          "metadata"
        ]
      },
      "IconPackVersionRequestRecordResponse": {
        "type": "object",
        "properties": {
          "requestRecord": {
            "$ref": "#/components/schemas/RequestRecordDTO"
          },
          "iconPackApp": {
            "$ref": "#/components/schemas/IconPackAppDTO"
          }
        },
        "required": [
          "requestRecord"
        ]
      },
      "RenderResponse": {
        "type": "object",
        "properties": {
          "text": {
            "type": "string"
          }
        },
        "required": [
          "text"
        ]
      },
      "DesignerDTO": {
        "required": [
          "oidcIssuer",
          "oidcSubject"
        ],
        "properties": {
          "name": {
            "nullable": true,
            "type": "string"
          },
          "email": {
            "nullable": true,
            "type": "string"
          },
          "createdAt": {
            "format": "date-time",
            "nullable": true,
            "type": "string"
          },
          "oidcSubject": {
            "type": "string"
          },
          "id": {
            "format": "uuid",
            "nullable": true,
            "type": "string"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "iconPacks": {
            "nullable": true,
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/IconPackDTO"
            }
          },
          "oidcIssuer": {
            "type": "string"
          }
        },
        "type": "object"
      },
      "AppIconGenerateUploadURLResponse": {
        "type": "object",
        "properties": {
          "uploadURL": {
            "type": "string",
            "format": "uri"
          }
        },
        "required": [
          "uploadURL"
        ]
      },
      "AppLocalizedNameDTO": {
        "required": [
          "isPrimary",
          "languageCode",
          "name"
        ],
        "properties": {
          "isPrimary": {
            "type": "boolean"
          },
          "languageCode": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "nullable": true,
            "format": "date-time"
          },
          "id": {
            "type": "string",
            "nullable": true,
            "format": "uuid"
          },
          "appInfo": {
            "$ref": "#/components/schemas/AppInfoDTO"
          },
          "updatedAt": {
            "type": "string",
            "nullable": true,
            "format": "date-time"
          },
          "name": {
            "type": "string"
          }
        },
        "type": "object"
      },
      "IconPackMarkAppAsAdaptedRequest": {
        "type": "object",
        "properties": {
          "appInfoIDs": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "description": "A list of app info IDs that are to be marked or unmarked as adapted"
          },
          "adapted": {
            "type": "boolean",
            "description": "Whether the app should be marked as adapted\\nIf false, the adapted mark will be removed"
          }
        },
        "required": [
          "adapted",
          "appInfoIDs"
        ]
      },
      "AppInfoQueryRequestSortOption": {
        "enum": [
          "relevance",
          "count"
        ],
        "type": "string"
      },
      "AppInfoDTO": {
        "required": [
          "count",
          "defaultName",
          "mainActivity",
          "packageName"
        ],
        "properties": {
          "localizedNames": {
            "type": "array",
            "nullable": true,
            "items": {
              "$ref": "#/components/schemas/AppLocalizedNameDTO"
            }
          },
          "mainActivity": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "nullable": true,
            "format": "date-time"
          },
          "count": {
            "type": "integer",
            "format": "int64"
          },
          "defaultName": {
            "type": "string"
          },
          "id": {
            "type": "string",
            "nullable": true,
            "format": "uuid"
          },
          "packageName": {
            "type": "string"
          },
          "iconPacks": {
            "type": "array",
            "nullable": true,
            "items": {
              "$ref": "#/components/schemas/IconPackDTO"
            }
          }
        },
        "type": "object"
      },
      "PageIconPackVersionRequestRecordResponse": {
        "type": "object",
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/IconPackVersionRequestRecordResponse"
            },
            "type": "array"
          },
          "metadata": {
            "$ref": "#/components/schemas/PageMetadata"
          }
        },
        "required": [
          "items",
          "metadata"
        ]
      },
      "RenderRequest": {
        "type": "object",
        "properties": {
          "context": {
            "additionalProperties": {
              "type": "array",
              "items": {
                "items": {
                  "$ref": "#/components/schemas/JSONValue"
                },
                "type": "array"
              }
            },
            "type": "object",
            "description": "The context for the template"
          },
          "template": {
            "type": "string",
            "description": "The template to render in Leaf format"
          }
        },
        "required": [
          "context",
          "template"
        ]
      },
      "IconPackAppDTO": {
        "type": "object",
        "properties": {
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "iconPack": {
            "$ref": "#/components/schemas/IconPackDTO"
          },
          "appInfo": {
            "$ref": "#/components/schemas/AppInfoDTO"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          }
        }
      },
      "IconPackCreate": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          }
        },
        "required": [
          "name"
        ]
      },
      "PageMetadata": {
        "type": "object",
        "properties": {
          "per": {
            "type": "integer",
            "format": "int64"
          },
          "page": {
            "type": "integer",
            "format": "int64"
          },
          "total": {
            "type": "integer",
            "format": "int64"
          }
        },
        "required": [
          "page",
          "per",
          "total"
        ]
      },
      "PageIconPackVersionDTO": {
        "type": "object",
        "properties": {
          "metadata": {
            "$ref": "#/components/schemas/PageMetadata"
          },
          "items": {
            "items": {
              "$ref": "#/components/schemas/IconPackVersionDTO"
            },
            "type": "array"
          }
        },
        "required": [
          "items",
          "metadata"
        ]
      },
      "DesignerStatisticsResponse": {
        "required": [
          "distinctRequestCount",
          "requestCount"
        ],
        "properties": {
          "distinctRequestCount": {
            "description": "Total number of requests with distinct app info and icon pack combination\\nThis means how many icons the designer need to draw to fulfill every request",
            "format": "int64",
            "type": "integer"
          },
          "requestCount": {
            "description": "Total number of requests",
            "format": "int64",
            "type": "integer"
          }
        },
        "type": "object"
      },
      "AppInfoCreateSingleRequest": {
        "type": "object",
        "properties": {
          "defaultName": {
            "type": "string",
            "description": "The default display name of the app (used as fallback when no localized name matches)"
          },
          "mainActivity": {
            "type": "string",
            "description": "Android main activity class name (e.g., \"com.google.android.maps.MapsActivity\")"
          },
          "packageName": {
            "type": "string",
            "description": "Android package name (e.g., \"com.google.android.apps.maps\")"
          },
          "systemApp": {
            "type": "boolean",
            "description": "Whether this app is a system app on user's device",
            "nullable": true
          },
          "localizedName": {
            "type": "string",
            "description": "The localized name of the app in the specified language"
          },
          "languageCode": {
            "type": "string",
            "description": "IETF language tag (e.g., \"en\", \"zh-Hans\", \"ja\")"
          }
        },
        "required": [
          "defaultName",
          "languageCode",
          "localizedName",
          "mainActivity",
          "packageName"
        ]
      },
      "IconPackVersionDTO": {
        "required": [
          "versionString"
        ],
        "properties": {
          "createdAt": {
            "format": "date-time",
            "nullable": true,
            "type": "string"
          },
          "iconPack": {
            "$ref": "#/components/schemas/IconPackDTO"
          },
          "requestRecords": {
            "items": {
              "$ref": "#/components/schemas/RequestRecordDTO"
            },
            "nullable": true,
            "type": "array"
          },
          "id": {
            "format": "uuid",
            "nullable": true,
            "type": "string"
          },
          "versionString": {
            "type": "string"
          }
        },
        "type": "object"
      },
      "RequestRecordDTO": {
        "properties": {
          "createdAt": {
            "type": "string",
            "nullable": true,
            "format": "date-time"
          },
          "isSystemApp": {
            "type": "boolean",
            "nullable": true
          },
          "appInfo": {
            "$ref": "#/components/schemas/AppInfoDTO"
          },
          "iconPackVersion": {
            "$ref": "#/components/schemas/IconPackVersionDTO"
          },
          "id": {
            "type": "string",
            "nullable": true,
            "format": "uuid"
          },
          "deletedAt": {
            "type": "string",
            "nullable": true,
            "format": "date-time"
          }
        },
        "type": "object"
      },
      "IconPackVersionTokenResponse": {
        "type": "object",
        "properties": {
          "token": {
            "type": "string"
          }
        },
        "required": [
          "token"
        ]
      },
      "IconPackVersionCreate": {
        "type": "object",
        "properties": {
          "versionString": {
            "type": "string"
          }
        },
        "required": [
          "versionString"
        ]
      },
      "IconPackUpdate": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          }
        },
        "required": [
          "name"
        ]
      },
      "IconPackDTO": {
        "required": [
          "name"
        ],
        "properties": {
          "designer": {
            "$ref": "#/components/schemas/DesignerDTO"
          },
          "createdAt": {
            "format": "date-time",
            "nullable": true,
            "type": "string"
          },
          "versions": {
            "items": {
              "$ref": "#/components/schemas/IconPackVersionDTO"
            },
            "nullable": true,
            "type": "array"
          },
          "id": {
            "format": "uuid",
            "nullable": true,
            "type": "string"
          },
          "updatedAt": {
            "format": "date-time",
            "nullable": true,
            "type": "string"
          },
          "adaptedApps": {
            "items": {
              "$ref": "#/components/schemas/AppInfoDTO"
            },
            "nullable": true,
            "type": "array"
          },
          "name": {
            "type": "string"
          }
        },
        "type": "object"
      },
      "AppInfoWithRequestCount": {
        "type": "object",
        "properties": {
          "appInfo": {
            "$ref": "#/components/schemas/AppInfoDTO"
          },
          "iconPackApp": {
            "$ref": "#/components/schemas/IconPackAppDTO"
          },
          "count": {
            "type": "integer",
            "description": "Number of requests for this app",
            "format": "int64"
          }
        },
        "required": [
          "appInfo",
          "count"
        ]
      }
    }
  },
  "tags": [
    {
      "name": "designer"
    },
    {
      "name": "app-info"
    },
    {
      "name": "icon-pack"
    },
    {
      "name": "app-icon"
    },
    {
      "name": "request-record"
    },
    {
      "name": "render-leaf"
    }
  ]
}
