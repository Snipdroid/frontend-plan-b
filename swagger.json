{"info":{"title":"AppTracker","version":"3.0.0"},"openapi":"3.0.1","tags":[{"name":"designer"},{"name":"app-info"},{"name":"icon-pack"},{"name":"app-icon"},{"name":"request-record"}],"paths":{"\/app-info\/create":{"post":{"summary":"Create or update app information","description":"Creates or updates app information.\nIf an app with the same package name and main activity already exists, it will be updated. Otherwise, a new app will be created.\nLocalized names are also created or updated.\nA request record is created for each app to associate it with the authenticated icon pack.","operationId":"postApp-infoCreate","requestBody":{"content":{"application\/json":{"schema":{"type":"array","items":{"$ref":"#\/components\/schemas\/AppInfoCreateSingleRequest"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"type":"array","items":{"$ref":"#\/components\/schemas\/AppInfoDTO"}}}}}},"tags":["app-info"]}},"\/app-icon":{"get":{"parameters":[{"required":true,"name":"packageName","in":"query","description":"The package name of the app.","schema":{"type":"string"}}],"summary":"Get app icon","responses":{"307":{"description":"Redirect","headers":{"Location":{"schema":{"type":"string","format":"uri"}}}}},"operationId":"getApp-icon","tags":["app-icon"],"description":""}},"\/icon-pack\/{iconPackId}\/version\/create":{"post":{"summary":"Create icon pack version","operationId":"postIcon-packByIconPackIdVersionCreate","description":"Create a new icon pack version","tags":["icon-pack"],"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackVersionDTO"}}}}},"requestBody":{"required":true,"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackVersionCreate"}}}},"parameters":[{"required":true,"in":"path","name":"iconPackId","schema":{"type":"string"}}]}},"\/icon-pack\/create":{"post":{"operationId":"postIcon-packCreate","requestBody":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackCreate"}}},"required":true},"summary":"Create icon pack","description":"Create a new icon pack","responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackDTO"}}},"description":"OK"}},"tags":["icon-pack"]}},"\/icon-pack\/{iconPackId}\/versions":{"get":{"description":"List all versions for an icon pack","responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"items":{"$ref":"#\/components\/schemas\/IconPackVersionDTO"},"type":"array"}}}}},"tags":["icon-pack"],"parameters":[{"required":true,"in":"path","schema":{"type":"string"},"name":"iconPackId"}],"summary":"List icon pack versions","operationId":"getIcon-packByIconPackIdVersions"}},"\/designer\/me":{"get":{"description":"Get the currently authenticated designer's profile","summary":"Get Current Designer","responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/DesignerDTO"}}}}},"operationId":"getDesignerMe","tags":["designer"]}},"\/app-icon\/generate-upload-url":{"get":{"tags":["app-icon"],"description":"","summary":"Generate upload URL","operationId":"getApp-iconGenerate-upload-url","parameters":[{"required":true,"schema":{"type":"string"},"name":"packageName","in":"query"}],"responses":{"200":{"description":"Upload URL"}}}},"\/icon-pack\/{iconPackId}":{"delete":{"parameters":[{"in":"path","required":true,"schema":{"type":"string"},"name":"iconPackId"}],"tags":["icon-pack"],"description":"Delete an icon pack and all its versions","responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"type":"integer","format":"int64"}}}}},"operationId":"deleteIcon-packByIconPackId","summary":"Delete icon pack"},"put":{"summary":"Update icon pack","operationId":"putIcon-packByIconPackId","tags":["icon-pack"],"description":"Update an icon pack's name","responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackDTO"}}},"description":"OK"}},"requestBody":{"required":true,"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackUpdate"}}}},"parameters":[{"in":"path","required":true,"schema":{"type":"string"},"name":"iconPackId"}]},"get":{"parameters":[{"name":"iconPackId","schema":{"type":"string"},"required":true,"in":"path"}],"tags":["icon-pack"],"description":"Get a specific icon pack by ID,\ndoes not include its icon pack verisons,\nuse `\/icon-pack\/:iconPackId\/versions` instead","responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackDTO"}}}}},"operationId":"getIcon-packByIconPackId","summary":"Get icon pack"}},"\/designer\/me\/sync":{"post":{"responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/DesignerDTO"}}},"description":"OK"}},"summary":"Sync Designer Profile","tags":["designer"],"description":"Fetch and update profile data from OIDC provider's userinfo endpoint","operationId":"postDesignerMeSync"}},"\/icon-pack":{"get":{"description":"List all icon packs for the authenticated designer","operationId":"getIcon-pack","responses":{"200":{"content":{"application\/json":{"schema":{"items":{"$ref":"#\/components\/schemas\/IconPackDTO"},"type":"array"}}},"description":"OK"}},"tags":["icon-pack"],"summary":"List icon packs"}},"\/icon-pack\/{iconPackId}\/version\/{versionId}":{"delete":{"parameters":[{"name":"iconPackId","required":true,"schema":{"type":"string"},"in":"path"},{"name":"versionId","required":true,"schema":{"type":"string"},"in":"path"}],"summary":"Delete icon pack version","operationId":"deleteIcon-packByIconPackIdVersionByVersionId","responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackVersionDTO"}}},"description":"OK"}},"tags":["icon-pack"],"description":"Delete an icon pack version, returns the deleted version"}},"\/icon-pack\/{iconPackId}\/version\/{versionId}\/requests":{"get":{"description":"Get requests for an icon pack version","tags":["icon-pack"],"operationId":"getIcon-packByIconPackIdVersionByVersionIdRequests","parameters":[{"in":"path","schema":{"type":"string"},"name":"iconPackId","required":true},{"in":"path","schema":{"type":"string"},"name":"versionId","required":true}],"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/PageRequestRecordDTO"}}}}},"summary":"Get requests"}},"\/app-info\/search":{"get":{"tags":["app-info"],"description":"Search for apps using a simple query or advanced filters. The `query` parameter searches across name, package name, and main activity. Advanced filters (byName, byPackageName, byMainActivity) can be combined with query using AND logic. Use `sortBy` to control result ordering.","parameters":[{"in":"query","name":"query","description":"Simple unified search - searches across name, packageName, and mainActivity","schema":{"type":"string","nullable":true},"required":false},{"in":"query","name":"byName","description":"Filter by localized app name (uses similarity matching)","schema":{"type":"string","nullable":true},"required":false},{"in":"query","name":"byPackageName","description":"Filter by package name (uses ILIKE matching)","schema":{"type":"string","nullable":true},"required":false},{"in":"query","name":"byMainActivity","description":"Filter by main activity (uses ILIKE matching)","schema":{"nullable":true,"type":"string"},"required":false},{"in":"query","name":"sortBy","description":"Sort order for results","schema":{"$ref":"#\/components\/schemas\/AppInfoQueryRequestSortOption"},"required":false}],"operationId":"getApp-infoSearch","summary":"Search for apps","responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/PageAppInfoDTO"}}}}}}},"\/icon-pack\/{iconPackId}\/version\/{versionId}\/token":{"post":{"tags":["icon-pack"],"responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackVersionTokenResponse"}}},"description":"OK"}},"summary":"Create access token","operationId":"postIcon-packByIconPackIdVersionByVersionIdToken","parameters":[{"name":"iconPackId","required":true,"schema":{"type":"string"},"in":"path"},{"name":"versionId","required":true,"schema":{"type":"string"},"in":"path"}],"requestBody":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackVersionTokenRequest"}}},"required":true},"description":"Generate an access token for an icon pack version"}},"\/designer\/requests":{"get":{"tags":["designer"],"description":"List all apps with request counts for the currently authenticated designer's icon packs, sorted by request count descending","operationId":"getDesignerRequests","parameters":[{"schema":{"format":"int64","nullable":true,"type":"integer"},"name":"page","required":false,"in":"query"},{"schema":{"type":"integer","format":"int64","nullable":true},"name":"per","required":false,"in":"query"}],"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/PageAppInfoWithRequestCount"}}}}},"summary":"Get App Request Statistics"}},"\/request-record\/{requestRecordId}":{"delete":{"tags":["request-record"],"summary":"Delete request","description":"Delete a request record","operationId":"deleteRequest-recordByRequestRecordId","parameters":[{"schema":{"type":"string"},"required":true,"in":"path","name":"requestRecordId"}],"responses":{"200":{"content":{"application\/json":{"schema":{"format":"int64","type":"integer"}}},"description":"OK"}}}}},"components":{"schemas":{"IconPackVersionTokenResponse":{"required":["token"],"type":"object","properties":{"token":{"type":"string"}}},"PageMetadata":{"required":["page","per","total"],"type":"object","properties":{"page":{"type":"integer","format":"int64"},"total":{"type":"integer","format":"int64"},"per":{"type":"integer","format":"int64"}}},"AppInfoDTO":{"required":["count","defaultName","mainActivity","packageName"],"properties":{"defaultName":{"type":"string"},"id":{"type":"string","format":"uuid","nullable":true},"createdAt":{"type":"string","format":"date-time","nullable":true},"packageName":{"type":"string"},"localizedNames":{"items":{"$ref":"#\/components\/schemas\/AppLocalizedNameDTO"},"type":"array","nullable":true},"mainActivity":{"type":"string"},"count":{"type":"integer","format":"int64"}},"type":"object"},"IconPackVersionCreate":{"required":["versionString"],"type":"object","properties":{"versionString":{"type":"string"}}},"IconPackVersionTokenRequest":{"required":["expireAt"],"type":"object","properties":{"expireAt":{"type":"string","format":"date-time"}}},"RequestRecordDTO":{"properties":{"appInfo":{"$ref":"#\/components\/schemas\/AppInfoDTO"},"deletedAt":{"nullable":true,"type":"string","format":"date-time"},"iconPackVersion":{"$ref":"#\/components\/schemas\/IconPackVersionDTO"},"id":{"nullable":true,"type":"string","format":"uuid"},"createdAt":{"nullable":true,"type":"string","format":"date-time"}},"type":"object"},"PageAppInfoDTO":{"required":["items","metadata"],"type":"object","properties":{"metadata":{"$ref":"#\/components\/schemas\/PageMetadata"},"items":{"type":"array","items":{"$ref":"#\/components\/schemas\/AppInfoDTO"}}}},"AppLocalizedNameDTO":{"required":["isPrimary","languageCode","name"],"properties":{"name":{"type":"string"},"isPrimary":{"type":"boolean"},"updatedAt":{"type":"string","format":"date-time","nullable":true},"appInfo":{"$ref":"#\/components\/schemas\/AppInfoDTO"},"id":{"type":"string","format":"uuid","nullable":true},"createdAt":{"type":"string","format":"date-time","nullable":true},"languageCode":{"type":"string"}},"type":"object"},"AppInfoCreateSingleRequest":{"required":["defaultName","languageCode","localizedName","mainActivity","packageName"],"type":"object","properties":{"mainActivity":{"type":"string","description":"Android main activity class name (e.g., \"com.google.android.maps.MapsActivity\")"},"languageCode":{"type":"string","description":"IETF language tag (e.g., \"en\", \"zh-Hans\", \"ja\")"},"localizedName":{"type":"string","description":"The localized name of the app in the specified language"},"packageName":{"type":"string","description":"Android package name (e.g., \"com.google.android.apps.maps\")"},"defaultName":{"type":"string","description":"The default display name of the app (used as fallback when no localized name matches)"}}},"PageAppInfoWithRequestCount":{"required":["items","metadata"],"type":"object","properties":{"metadata":{"$ref":"#\/components\/schemas\/PageMetadata"},"items":{"type":"array","items":{"$ref":"#\/components\/schemas\/AppInfoWithRequestCount"}}}},"AppInfoWithRequestCount":{"required":["appInfo","count"],"properties":{"appInfo":{"$ref":"#\/components\/schemas\/AppInfoDTO"},"count":{"format":"int64","type":"integer"}},"type":"object"},"PageRequestRecordDTO":{"required":["items","metadata"],"type":"object","properties":{"items":{"items":{"$ref":"#\/components\/schemas\/RequestRecordDTO"},"type":"array"},"metadata":{"$ref":"#\/components\/schemas\/PageMetadata"}}},"IconPackDTO":{"required":["name"],"properties":{"updatedAt":{"type":"string","nullable":true,"format":"date-time"},"designer":{"$ref":"#\/components\/schemas\/DesignerDTO"},"versions":{"type":"array","nullable":true,"items":{"$ref":"#\/components\/schemas\/IconPackVersionDTO"}},"createdAt":{"type":"string","nullable":true,"format":"date-time"},"name":{"type":"string"},"id":{"type":"string","nullable":true,"format":"uuid"}},"type":"object"},"IconPackVersionDTO":{"required":["versionString"],"properties":{"iconPack":{"$ref":"#\/components\/schemas\/IconPackDTO"},"requestRecords":{"type":"array","items":{"$ref":"#\/components\/schemas\/RequestRecordDTO"},"nullable":true},"createdAt":{"format":"date-time","type":"string","nullable":true},"id":{"format":"uuid","type":"string","nullable":true},"versionString":{"type":"string"}},"type":"object"},"AppInfoQueryRequestSortOption":{"enum":["relevance","count"],"type":"string"},"IconPackUpdate":{"required":["name"],"type":"object","properties":{"name":{"type":"string"}}},"IconPackCreate":{"required":["name"],"type":"object","properties":{"name":{"type":"string"}}},"DesignerDTO":{"required":["oidcIssuer","oidcSubject"],"properties":{"name":{"nullable":true,"type":"string"},"oidcSubject":{"type":"string"},"iconPacks":{"nullable":true,"items":{"$ref":"#\/components\/schemas\/IconPackDTO"},"type":"array"},"updatedAt":{"nullable":true,"type":"string","format":"date-time"},"id":{"nullable":true,"format":"uuid","type":"string"},"createdAt":{"nullable":true,"format":"date-time","type":"string"},"email":{"nullable":true,"type":"string"},"oidcIssuer":{"type":"string"}},"type":"object"}},"examples":{"String":{"value":"some string"}}}}