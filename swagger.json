{"tags":[{"name":"designer"},{"name":"app-info"},{"name":"icon-pack"},{"name":"app-icon"},{"name":"request-record"}],"info":{"version":"3.0.0","title":"AppTracker"},"paths":{"\/icon-pack\/{iconPackId}":{"delete":{"parameters":[{"schema":{"type":"string"},"name":"iconPackId","in":"path","required":true}],"description":"Delete an icon pack and all its versions","responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"format":"int64","type":"integer"}}}}},"tags":["icon-pack"],"summary":"Delete icon pack","operationId":"deleteIcon-packByIconPackId"},"get":{"parameters":[{"in":"path","name":"iconPackId","required":true,"schema":{"type":"string"}}],"description":"Get a specific icon pack by ID,\ndoes not include its icon pack verisons,\nuse `\/icon-pack\/:iconPackId\/versions` instead","responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackDTO"}}},"description":"OK"}},"tags":["icon-pack"],"summary":"Get icon pack","operationId":"getIcon-packByIconPackId"},"put":{"tags":["icon-pack"],"parameters":[{"schema":{"type":"string"},"name":"iconPackId","in":"path","required":true}],"requestBody":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackUpdate"}}},"required":true},"description":"Update an icon pack's name","summary":"Update icon pack","operationId":"putIcon-packByIconPackId","responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackDTO"}}}}}}},"\/icon-pack\/{iconPackId}\/version\/create":{"post":{"summary":"Create icon pack version","parameters":[{"required":true,"in":"path","name":"iconPackId","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackVersionCreate"}}}},"description":"Create a new icon pack version","operationId":"postIcon-packByIconPackIdVersionCreate","tags":["icon-pack"],"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackVersionDTO"}}}}}}},"\/app-info\/search":{"get":{"description":"Search for apps using a simple query or advanced filters. The `query` parameter searches across name, package name, and main activity. Advanced filters (byName, byPackageName, byMainActivity) can be combined with query using AND logic. Use `sortBy` to control result ordering.","responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/PageAppInfoDTO"}}},"description":"OK"}},"tags":["app-info"],"summary":"Search for apps","parameters":[{"in":"query","description":"Simple unified search - searches across name, packageName, and mainActivity","required":false,"schema":{"nullable":true,"type":"string"},"name":"query"},{"in":"query","description":"Filter by localized app name (uses similarity matching)","required":false,"schema":{"type":"string","nullable":true},"name":"byName"},{"in":"query","description":"Filter by package name (uses ILIKE matching)","required":false,"schema":{"type":"string","nullable":true},"name":"byPackageName"},{"in":"query","description":"Filter by main activity (uses ILIKE matching)","required":false,"schema":{"type":"string","nullable":true},"name":"byMainActivity"},{"in":"query","description":"Sort order for results","required":false,"schema":{"$ref":"#\/components\/schemas\/AppInfoQueryRequestSortOption"},"name":"sortBy"}],"operationId":"getApp-infoSearch"}},"\/icon-pack\/{iconPackId}\/version\/{versionId}\/token":{"post":{"tags":["icon-pack"],"parameters":[{"required":true,"name":"iconPackId","in":"path","schema":{"type":"string"}},{"required":true,"name":"versionId","in":"path","schema":{"type":"string"}}],"requestBody":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackVersionTokenRequest"}}},"required":true},"operationId":"postIcon-packByIconPackIdVersionByVersionIdToken","description":"Generate an access token for an icon pack version","summary":"Create access token","responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackVersionTokenResponse"}}},"description":"OK"}}}},"\/designer\/requests":{"get":{"operationId":"getDesignerRequests","description":"List all apps with request counts for the currently authenticated designer's icon packs, sorted by request count descending","tags":["designer"],"parameters":[{"in":"query","name":"page","required":false,"schema":{"type":"integer","nullable":true,"format":"int64"}},{"in":"query","name":"per","required":false,"schema":{"nullable":true,"type":"integer","format":"int64"}}],"summary":"Get App Request Statistics","responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/PageAppInfoWithRequestCount"}}}}}}},"\/request-record\/{requestRecordId}":{"delete":{"tags":["request-record"],"responses":{"200":{"content":{"application\/json":{"schema":{"type":"integer","format":"int64"}}},"description":"OK"}},"operationId":"deleteRequest-recordByRequestRecordId","parameters":[{"required":true,"name":"requestRecordId","schema":{"type":"string"},"in":"path"}],"summary":"Delete request","description":"Delete a request record"}},"\/app-icon\/generate-upload-url":{"get":{"summary":"Generate upload URL","tags":["app-icon"],"responses":{"200":{"description":"Upload URL"}},"parameters":[{"name":"packageName","in":"query","schema":{"type":"string"},"required":true}],"description":"","operationId":"getApp-iconGenerate-upload-url"}},"\/designer\/me\/sync":{"post":{"description":"Fetch and update profile data from OIDC provider's userinfo endpoint","responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/DesignerDTO"}}}}},"summary":"Sync Designer Profile","tags":["designer"],"operationId":"postDesignerMeSync"}},"\/designer\/me":{"get":{"tags":["designer"],"description":"Get the currently authenticated designer's profile","operationId":"getDesignerMe","summary":"Get Current Designer","responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/DesignerDTO"}}},"description":"OK"}}}},"\/app-info\/create":{"post":{"tags":["app-info"],"summary":"Create or update app information","requestBody":{"content":{"application\/json":{"schema":{"type":"array","items":{"$ref":"#\/components\/schemas\/AppInfoCreateSingleRequest"}}}},"required":true},"description":"Creates or updates app information.\nIf an app with the same package name and main activity already exists, it will be updated. Otherwise, a new app will be created.\nLocalized names are also created or updated.\nA request record is created for each app to associate it with the authenticated icon pack.","responses":{"200":{"content":{"application\/json":{"schema":{"type":"array","items":{"$ref":"#\/components\/schemas\/AppInfoDTO"}}}},"description":"OK"}},"operationId":"postApp-infoCreate"}},"\/icon-pack\/{iconPackId}\/version\/{versionId}\/requests":{"get":{"tags":["icon-pack"],"operationId":"getIcon-packByIconPackIdVersionByVersionIdRequests","summary":"Get requests","parameters":[{"name":"iconPackId","required":true,"in":"path","schema":{"type":"string"}},{"name":"versionId","required":true,"in":"path","schema":{"type":"string"}}],"description":"Get requests for an icon pack version","responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/PageRequestRecordDTO"}}}}}}},"\/icon-pack\/create":{"post":{"tags":["icon-pack"],"description":"Create a new icon pack","responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackDTO"}}}}},"operationId":"postIcon-packCreate","summary":"Create icon pack","requestBody":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackCreate"}}},"required":true}}},"\/icon-pack\/{iconPackId}\/version\/{versionId}":{"delete":{"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackVersionDTO"}}}}},"tags":["icon-pack"],"parameters":[{"in":"path","required":true,"schema":{"type":"string"},"name":"iconPackId"},{"in":"path","required":true,"schema":{"type":"string"},"name":"versionId"}],"summary":"Delete icon pack version","description":"Delete an icon pack version, returns the deleted version","operationId":"deleteIcon-packByIconPackIdVersionByVersionId"}},"\/icon-pack\/{iconPackId}\/versions":{"get":{"description":"List all versions for an icon pack,\nsorted by creation date in descending order","tags":["icon-pack"],"summary":"List icon pack versions","parameters":[{"in":"query","schema":{"format":"int64","nullable":true,"type":"integer"},"name":"page","required":false},{"in":"query","schema":{"nullable":true,"type":"integer","format":"int64"},"name":"per","required":false},{"in":"path","schema":{"type":"string"},"name":"iconPackId","required":true}],"operationId":"getIcon-packByIconPackIdVersions","responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/PageIconPackVersionDTO"}}},"description":"OK"}}}},"\/icon-pack":{"get":{"tags":["icon-pack"],"description":"List all icon packs for the authenticated designer","operationId":"getIcon-pack","summary":"List icon packs","responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"type":"array","items":{"$ref":"#\/components\/schemas\/IconPackDTO"}}}}}}}},"\/app-icon":{"get":{"tags":["app-icon"],"description":"","parameters":[{"required":true,"name":"packageName","schema":{"type":"string"},"in":"query","description":"The package name of the app."}],"responses":{"307":{"description":"Redirect","headers":{"Location":{"schema":{"type":"string","format":"uri"}}}}},"summary":"Get app icon","operationId":"getApp-icon"}}},"components":{"schemas":{"IconPackUpdate":{"type":"object","required":["name"],"properties":{"name":{"type":"string"}}},"AppLocalizedNameDTO":{"properties":{"appInfo":{"$ref":"#\/components\/schemas\/AppInfoDTO"},"languageCode":{"type":"string"},"createdAt":{"format":"date-time","type":"string","nullable":true},"isPrimary":{"type":"boolean"},"id":{"format":"uuid","type":"string","nullable":true},"updatedAt":{"format":"date-time","type":"string","nullable":true},"name":{"type":"string"}},"required":["isPrimary","languageCode","name"],"type":"object"},"AppInfoWithRequestCount":{"properties":{"count":{"format":"int64","type":"integer"},"appInfo":{"$ref":"#\/components\/schemas\/AppInfoDTO"}},"required":["appInfo","count"],"type":"object"},"AppInfoQueryRequestSortOption":{"type":"string","enum":["relevance","count"]},"RequestRecordDTO":{"properties":{"deletedAt":{"format":"date-time","nullable":true,"type":"string"},"createdAt":{"format":"date-time","nullable":true,"type":"string"},"iconPackVersion":{"$ref":"#\/components\/schemas\/IconPackVersionDTO"},"appInfo":{"$ref":"#\/components\/schemas\/AppInfoDTO"},"id":{"format":"uuid","nullable":true,"type":"string"}},"type":"object"},"PageAppInfoDTO":{"type":"object","required":["items","metadata"],"properties":{"items":{"items":{"$ref":"#\/components\/schemas\/AppInfoDTO"},"type":"array"},"metadata":{"$ref":"#\/components\/schemas\/PageMetadata"}}},"DesignerDTO":{"properties":{"name":{"type":"string","nullable":true},"email":{"type":"string","nullable":true},"createdAt":{"type":"string","format":"date-time","nullable":true},"id":{"type":"string","format":"uuid","nullable":true},"updatedAt":{"type":"string","nullable":true,"format":"date-time"},"iconPacks":{"type":"array","items":{"$ref":"#\/components\/schemas\/IconPackDTO"},"nullable":true},"oidcIssuer":{"type":"string"},"oidcSubject":{"type":"string"}},"required":["oidcIssuer","oidcSubject"],"type":"object"},"IconPackVersionDTO":{"properties":{"iconPack":{"$ref":"#\/components\/schemas\/IconPackDTO"},"versionString":{"type":"string"},"id":{"nullable":true,"type":"string","format":"uuid"},"createdAt":{"nullable":true,"type":"string","format":"date-time"},"requestRecords":{"nullable":true,"type":"array","items":{"$ref":"#\/components\/schemas\/RequestRecordDTO"}}},"required":["versionString"],"type":"object"},"IconPackVersionCreate":{"type":"object","required":["versionString"],"properties":{"versionString":{"type":"string"}}},"PageMetadata":{"type":"object","required":["page","per","total"],"properties":{"page":{"format":"int64","type":"integer"},"per":{"format":"int64","type":"integer"},"total":{"format":"int64","type":"integer"}}},"IconPackDTO":{"properties":{"updatedAt":{"type":"string","format":"date-time","nullable":true},"id":{"type":"string","format":"uuid","nullable":true},"createdAt":{"type":"string","format":"date-time","nullable":true},"designer":{"$ref":"#\/components\/schemas\/DesignerDTO"},"versions":{"type":"array","items":{"$ref":"#\/components\/schemas\/IconPackVersionDTO"},"nullable":true},"name":{"type":"string"}},"required":["name"],"type":"object"},"PageAppInfoWithRequestCount":{"type":"object","required":["items","metadata"],"properties":{"items":{"items":{"$ref":"#\/components\/schemas\/AppInfoWithRequestCount"},"type":"array"},"metadata":{"$ref":"#\/components\/schemas\/PageMetadata"}}},"PageIconPackVersionDTO":{"type":"object","required":["items","metadata"],"properties":{"metadata":{"$ref":"#\/components\/schemas\/PageMetadata"},"items":{"items":{"$ref":"#\/components\/schemas\/IconPackVersionDTO"},"type":"array"}}},"IconPackVersionTokenRequest":{"type":"object","required":["expireAt"],"properties":{"expireAt":{"type":"string","format":"date-time"}}},"IconPackCreate":{"type":"object","required":["name"],"properties":{"name":{"type":"string"}}},"PageRequestRecordDTO":{"type":"object","required":["items","metadata"],"properties":{"items":{"items":{"$ref":"#\/components\/schemas\/RequestRecordDTO"},"type":"array"},"metadata":{"$ref":"#\/components\/schemas\/PageMetadata"}}},"IconPackVersionTokenResponse":{"type":"object","required":["token"],"properties":{"token":{"type":"string"}}},"AppInfoDTO":{"properties":{"count":{"type":"integer","format":"int64"},"mainActivity":{"type":"string"},"localizedNames":{"items":{"$ref":"#\/components\/schemas\/AppLocalizedNameDTO"},"type":"array","nullable":true},"packageName":{"type":"string"},"defaultName":{"type":"string"},"createdAt":{"type":"string","format":"date-time","nullable":true},"id":{"type":"string","format":"uuid","nullable":true}},"required":["count","defaultName","mainActivity","packageName"],"type":"object"},"AppInfoCreateSingleRequest":{"type":"object","required":["defaultName","languageCode","localizedName","mainActivity","packageName"],"properties":{"packageName":{"type":"string","description":"Android package name (e.g., \"com.google.android.apps.maps\")"},"mainActivity":{"type":"string","description":"Android main activity class name (e.g., \"com.google.android.maps.MapsActivity\")"},"localizedName":{"type":"string","description":"The localized name of the app in the specified language"},"languageCode":{"type":"string","description":"IETF language tag (e.g., \"en\", \"zh-Hans\", \"ja\")"},"defaultName":{"type":"string","description":"The default display name of the app (used as fallback when no localized name matches)"}}}},"examples":{"String":{"value":"some string"}}},"openapi":"3.0.1"}