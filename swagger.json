{"tags":[{"name":"designer"},{"name":"app-info"},{"name":"icon-pack"},{"name":"app-icon"},{"name":"request-record"}],"info":{"version":"3.0.0","title":"AppTracker"},"paths":{"\/request-record\/{requestRecordId}":{"delete":{"operationId":"deleteRequest-recordByRequestRecordId","summary":"Delete request","description":"Delete a request record","parameters":[{"required":true,"in":"path","schema":{"type":"string"},"name":"requestRecordId"}],"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"type":"integer","format":"int64"}}}}},"tags":["request-record"]}},"\/app-icon\/generate-upload-url":{"get":{"responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/AppIconGenerateUploadURLResponse"}}},"description":"OK"}},"summary":"Generate upload URL","tags":["app-icon"],"description":"","operationId":"getApp-iconGenerate-upload-url","parameters":[{"in":"query","name":"packageName","required":true,"schema":{"type":"string"}}]}},"\/designer\/requests":{"get":{"tags":["designer"],"summary":"Get App Request Statistics","operationId":"getDesignerRequests","parameters":[{"in":"query","name":"page","required":false,"schema":{"nullable":true,"format":"int64","type":"integer"}},{"in":"query","name":"per","required":false,"schema":{"type":"integer","format":"int64","nullable":true}}],"description":"List all apps with request counts for the currently authenticated designer's icon packs, sorted by request count descending","responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/PageAppInfoWithRequestCount"}}},"description":"OK"}}}},"\/icon-pack\/{iconPackId}\/version\/{versionId}":{"delete":{"responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackVersionDTO"}}},"description":"OK"}},"summary":"Delete icon pack version","description":"Delete an icon pack version, returns the deleted version","parameters":[{"required":true,"name":"iconPackId","schema":{"type":"string"},"in":"path"},{"required":true,"name":"versionId","schema":{"type":"string"},"in":"path"}],"tags":["icon-pack"],"operationId":"deleteIcon-packByIconPackIdVersionByVersionId"}},"\/icon-pack\/{iconPackId}\/versions":{"get":{"operationId":"getIcon-packByIconPackIdVersions","parameters":[{"in":"query","schema":{"nullable":true,"format":"int64","type":"integer"},"name":"page","required":false},{"in":"query","schema":{"nullable":true,"type":"integer","format":"int64"},"name":"per","required":false},{"in":"path","schema":{"type":"string"},"name":"iconPackId","required":true}],"responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/PageIconPackVersionDTO"}}},"description":"OK"}},"tags":["icon-pack"],"summary":"List icon pack versions","description":"List all versions for an icon pack,\nsorted by creation date in descending order"}},"\/icon-pack\/create":{"post":{"description":"Create a new icon pack","requestBody":{"required":true,"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackCreate"}}}},"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackDTO"}}}}},"tags":["icon-pack"],"summary":"Create icon pack","operationId":"postIcon-packCreate"}},"\/designer\/me":{"get":{"responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/DesignerDTO"}}},"description":"OK"}},"tags":["designer"],"summary":"Get Current Designer","description":"Get the currently authenticated designer's profile","operationId":"getDesignerMe"}},"\/app-icon":{"get":{"description":"","summary":"Get app icon","operationId":"getApp-icon","tags":["app-icon"],"parameters":[{"name":"packageName","in":"query","schema":{"type":"string"},"description":"The package name of the app.","required":true}],"responses":{"307":{"description":"Redirect","headers":{"Location":{"schema":{"format":"uri","type":"string"}}}}}}},"\/icon-pack\/{iconPackId}\/version\/{versionId}\/requests":{"get":{"tags":["icon-pack"],"parameters":[{"required":false,"schema":{"type":"integer","nullable":true,"format":"int64"},"in":"query","name":"page"},{"required":false,"schema":{"type":"integer","nullable":true,"format":"int64"},"in":"query","name":"per"},{"schema":{"type":"boolean"},"in":"query","name":"includingAdapted"},{"required":true,"schema":{"type":"string"},"in":"path","name":"iconPackId"},{"required":true,"schema":{"type":"string"},"in":"path","name":"versionId"}],"summary":"Get requests","description":"Get requests for an icon pack version","operationId":"getIcon-packByIconPackIdVersionByVersionIdRequests","responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/PageRequestRecordDTO"}}}}}}},"\/icon-pack\/{iconPackId}":{"delete":{"responses":{"200":{"content":{"application\/json":{"schema":{"format":"int64","type":"integer"}}},"description":"OK"}},"summary":"Delete icon pack","operationId":"deleteIcon-packByIconPackId","parameters":[{"in":"path","required":true,"name":"iconPackId","schema":{"type":"string"}}],"description":"Delete an icon pack and all its versions","tags":["icon-pack"]},"post":{"operationId":"postIcon-packByIconPackId","parameters":[{"in":"path","name":"iconPackId","required":true,"schema":{"type":"string"}}],"tags":["icon-pack"],"summary":"Mark app as adapted","description":"Mark an app as adapted, or remove the adapted mark","responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"items":{"$ref":"#\/components\/schemas\/IconPackAppDTO"},"type":"array"}}}}},"requestBody":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackMarkAppAsAdaptedRequest"}}},"required":true}},"get":{"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackDTO"}}}}},"summary":"Get icon pack","operationId":"getIcon-packByIconPackId","parameters":[{"name":"iconPackId","in":"path","required":true,"schema":{"type":"string"}}],"description":"Get a specific icon pack by ID,\ndoes not include its icon pack verisons,\nuse `\/icon-pack\/:iconPackId\/versions` instead","tags":["icon-pack"]},"put":{"operationId":"putIcon-packByIconPackId","parameters":[{"in":"path","name":"iconPackId","required":true,"schema":{"type":"string"}}],"tags":["icon-pack"],"summary":"Update icon pack","description":"Update an icon pack's name","responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackDTO"}}}}},"requestBody":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackUpdate"}}},"required":true}}},"\/icon-pack":{"get":{"description":"List all icon packs for the authenticated designer","operationId":"getIcon-pack","responses":{"200":{"content":{"application\/json":{"schema":{"items":{"$ref":"#\/components\/schemas\/IconPackDTO"},"type":"array"}}},"description":"OK"}},"summary":"List icon packs","tags":["icon-pack"]}},"\/icon-pack\/{iconPackId}\/version\/{versionId}\/token":{"post":{"operationId":"postIcon-packByIconPackIdVersionByVersionIdToken","tags":["icon-pack"],"parameters":[{"in":"path","name":"iconPackId","schema":{"type":"string"},"required":true},{"in":"path","name":"versionId","schema":{"type":"string"},"required":true}],"summary":"Create access token","description":"Generate an access token for an icon pack version","responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackVersionTokenResponse"}}},"description":"OK"}},"requestBody":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackVersionTokenRequest"}}},"required":true}}},"\/app-info\/search":{"get":{"summary":"Search for apps","responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/PageAppInfoDTO"}}},"description":"OK"}},"description":"Search for apps using a simple query or advanced filters. The `query` parameter searches across name, package name, and main activity. Advanced filters (byName, byPackageName, byMainActivity) can be combined with query using AND logic. Use `sortBy` to control result ordering.","parameters":[{"required":false,"description":"Simple unified search - searches across name, packageName, and mainActivity","schema":{"nullable":true,"type":"string"},"name":"query","in":"query"},{"required":false,"description":"Filter by localized app name (uses similarity matching)","schema":{"nullable":true,"type":"string"},"name":"byName","in":"query"},{"required":false,"description":"Filter by package name (uses ILIKE matching)","schema":{"nullable":true,"type":"string"},"name":"byPackageName","in":"query"},{"required":false,"description":"Filter by main activity (uses ILIKE matching)","schema":{"type":"string","nullable":true},"name":"byMainActivity","in":"query"},{"required":false,"description":"Sort order for results","schema":{"$ref":"#\/components\/schemas\/AppInfoQueryRequestSortOption"},"name":"sortBy","in":"query"}],"operationId":"getApp-infoSearch","tags":["app-info"]}},"\/designer\/me\/sync":{"post":{"summary":"Sync Designer Profile","operationId":"postDesignerMeSync","responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/DesignerDTO"}}},"description":"OK"}},"tags":["designer"],"description":"Fetch and update profile data from OIDC provider's userinfo endpoint"}},"\/icon-pack\/{iconPackId}\/version\/create":{"post":{"summary":"Create icon pack version","description":"Create a new icon pack version","requestBody":{"required":true,"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackVersionCreate"}}}},"responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackVersionDTO"}}},"description":"OK"}},"tags":["icon-pack"],"parameters":[{"schema":{"type":"string"},"name":"iconPackId","required":true,"in":"path"}],"operationId":"postIcon-packByIconPackIdVersionCreate"}},"\/icon-pack\/{iconPackId}\/adapted-apps":{"get":{"tags":["icon-pack"],"summary":"Get adapted apps","description":"Get the list of apps that have been adapted","parameters":[{"in":"query","required":false,"schema":{"type":"integer","format":"int64","nullable":true},"name":"page"},{"in":"query","required":false,"schema":{"format":"int64","nullable":true,"type":"integer"},"name":"per"},{"in":"path","required":true,"schema":{"type":"string"},"name":"iconPackId"}],"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/PageAppInfoDTO"}}}}},"operationId":"getIcon-packByIconPackIdAdapted-apps"}},"\/app-info\/create":{"post":{"requestBody":{"required":true,"content":{"application\/json":{"schema":{"type":"array","items":{"$ref":"#\/components\/schemas\/AppInfoCreateSingleRequest"}}}}},"description":"Creates or updates app information.\nIf an app with the same package name and main activity already exists, it will be updated. Otherwise, a new app will be created.\nLocalized names are also created or updated.\nA request record is created for each app to associate it with the authenticated icon pack.","tags":["app-info"],"operationId":"postApp-infoCreate","summary":"Create or update app information","responses":{"200":{"content":{"application\/json":{"schema":{"type":"array","items":{"$ref":"#\/components\/schemas\/AppInfoDTO"}}}},"description":"OK"}}}}},"components":{"schemas":{"PageMetadata":{"type":"object","properties":{"total":{"format":"int64","type":"integer"},"page":{"format":"int64","type":"integer"},"per":{"format":"int64","type":"integer"}},"required":["page","per","total"]},"IconPackUpdate":{"type":"object","properties":{"name":{"type":"string"}},"required":["name"]},"RequestRecordDTO":{"type":"object","properties":{"iconPackVersion":{"$ref":"#\/components\/schemas\/IconPackVersionDTO"},"appInfo":{"$ref":"#\/components\/schemas\/AppInfoDTO"},"createdAt":{"type":"string","format":"date-time","nullable":true},"id":{"type":"string","format":"uuid","nullable":true},"deletedAt":{"type":"string","format":"date-time","nullable":true}}},"IconPackDTO":{"required":["name"],"type":"object","properties":{"updatedAt":{"format":"date-time","type":"string","nullable":true},"id":{"format":"uuid","type":"string","nullable":true},"designer":{"$ref":"#\/components\/schemas\/DesignerDTO"},"versions":{"type":"array","nullable":true,"items":{"$ref":"#\/components\/schemas\/IconPackVersionDTO"}},"name":{"type":"string"},"adaptedApps":{"type":"array","nullable":true,"items":{"$ref":"#\/components\/schemas\/AppInfoDTO"}},"createdAt":{"format":"date-time","type":"string","nullable":true}}},"PageRequestRecordDTO":{"type":"object","properties":{"items":{"type":"array","items":{"$ref":"#\/components\/schemas\/RequestRecordDTO"}},"metadata":{"$ref":"#\/components\/schemas\/PageMetadata"}},"required":["items","metadata"]},"AppIconGenerateUploadURLResponse":{"type":"object","properties":{"uploadURL":{"format":"uri","type":"string"}},"required":["uploadURL"]},"AppLocalizedNameDTO":{"required":["isPrimary","languageCode","name"],"type":"object","properties":{"updatedAt":{"nullable":true,"type":"string","format":"date-time"},"languageCode":{"type":"string"},"appInfo":{"$ref":"#\/components\/schemas\/AppInfoDTO"},"id":{"nullable":true,"type":"string","format":"uuid"},"name":{"type":"string"},"createdAt":{"nullable":true,"type":"string","format":"date-time"},"isPrimary":{"type":"boolean"}}},"IconPackVersionTokenResponse":{"type":"object","properties":{"token":{"type":"string"}},"required":["token"]},"IconPackCreate":{"type":"object","properties":{"name":{"type":"string"}},"required":["name"]},"AppInfoDTO":{"required":["count","defaultName","mainActivity","packageName"],"type":"object","properties":{"count":{"format":"int64","type":"integer"},"packageName":{"type":"string"},"mainActivity":{"type":"string"},"iconPacks":{"nullable":true,"items":{"$ref":"#\/components\/schemas\/IconPackDTO"},"type":"array"},"id":{"format":"uuid","nullable":true,"type":"string"},"localizedNames":{"nullable":true,"items":{"$ref":"#\/components\/schemas\/AppLocalizedNameDTO"},"type":"array"},"createdAt":{"format":"date-time","nullable":true,"type":"string"},"defaultName":{"type":"string"}}},"AppInfoQueryRequestSortOption":{"type":"string","enum":["relevance","count"]},"PageAppInfoDTO":{"type":"object","properties":{"items":{"type":"array","items":{"$ref":"#\/components\/schemas\/AppInfoDTO"}},"metadata":{"$ref":"#\/components\/schemas\/PageMetadata"}},"required":["items","metadata"]},"IconPackVersionTokenRequest":{"type":"object","properties":{"expireAt":{"type":"string","format":"date-time"}},"required":["expireAt"]},"AppInfoCreateSingleRequest":{"type":"object","properties":{"mainActivity":{"type":"string","description":"Android main activity class name (e.g., \"com.google.android.maps.MapsActivity\")"},"localizedName":{"type":"string","description":"The localized name of the app in the specified language"},"languageCode":{"type":"string","description":"IETF language tag (e.g., \"en\", \"zh-Hans\", \"ja\")"},"defaultName":{"type":"string","description":"The default display name of the app (used as fallback when no localized name matches)"},"packageName":{"type":"string","description":"Android package name (e.g., \"com.google.android.apps.maps\")"}},"required":["defaultName","languageCode","localizedName","mainActivity","packageName"]},"IconPackVersionDTO":{"required":["versionString"],"type":"object","properties":{"versionString":{"type":"string"},"createdAt":{"format":"date-time","type":"string","nullable":true},"iconPack":{"$ref":"#\/components\/schemas\/IconPackDTO"},"id":{"format":"uuid","type":"string","nullable":true},"requestRecords":{"type":"array","nullable":true,"items":{"$ref":"#\/components\/schemas\/RequestRecordDTO"}}}},"IconPackVersionCreate":{"type":"object","properties":{"versionString":{"type":"string"}},"required":["versionString"]},"PageAppInfoWithRequestCount":{"type":"object","properties":{"items":{"type":"array","items":{"$ref":"#\/components\/schemas\/AppInfoWithRequestCount"}},"metadata":{"$ref":"#\/components\/schemas\/PageMetadata"}},"required":["items","metadata"]},"AppInfoWithRequestCount":{"required":["appInfo","count"],"type":"object","properties":{"appInfo":{"$ref":"#\/components\/schemas\/AppInfoDTO"},"count":{"format":"int64","type":"integer"}}},"DesignerDTO":{"required":["oidcIssuer","oidcSubject"],"type":"object","properties":{"createdAt":{"type":"string","nullable":true,"format":"date-time"},"updatedAt":{"format":"date-time","type":"string","nullable":true},"iconPacks":{"items":{"$ref":"#\/components\/schemas\/IconPackDTO"},"type":"array","nullable":true},"id":{"type":"string","nullable":true,"format":"uuid"},"email":{"type":"string","nullable":true},"name":{"type":"string","nullable":true},"oidcSubject":{"type":"string"},"oidcIssuer":{"type":"string"}}},"PageIconPackVersionDTO":{"type":"object","properties":{"items":{"items":{"$ref":"#\/components\/schemas\/IconPackVersionDTO"},"type":"array"},"metadata":{"$ref":"#\/components\/schemas\/PageMetadata"}},"required":["items","metadata"]},"IconPackMarkAppAsAdaptedRequest":{"type":"object","properties":{"appInfoIDs":{"type":"array","description":"A list of app info IDs that are to be marked or unmarked as adapted","items":{"type":"string","format":"uuid"}},"adapted":{"type":"boolean","description":"Whether the app should be marked as adapted\\nIf false, the adapted mark will be removed"}},"required":["adapted","appInfoIDs"]},"IconPackAppDTO":{"type":"object","properties":{"createdAt":{"type":"string","format":"date-time","nullable":true},"appInfo":{"$ref":"#\/components\/schemas\/AppInfoDTO"},"iconPack":{"$ref":"#\/components\/schemas\/IconPackDTO"},"id":{"type":"string","format":"uuid","nullable":true}}}}},"openapi":"3.0.1"}