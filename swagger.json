{"info":{"title":"AppTracker","version":"3.0.0"},"openapi":"3.0.1","paths":{"\/icon-pack\/{iconPackId}\/version\/{versionId}\/requests":{"get":{"summary":"Get requests","description":"Get requests for an icon pack version","tags":["icon-pack"],"operationId":"getIcon-packByIconPackIdVersionByVersionIdRequests","parameters":[{"in":"query","name":"page","required":false,"schema":{"format":"int64","nullable":true,"type":"integer"}},{"in":"query","name":"per","required":false,"schema":{"format":"int64","type":"integer","nullable":true}},{"in":"path","name":"iconPackId","required":true,"schema":{"type":"string"}},{"in":"path","name":"versionId","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/PageRequestRecordDTO"}}},"description":"OK"}}}},"\/designer\/me\/sync":{"post":{"operationId":"postDesignerMeSync","tags":["designer"],"description":"Fetch and update profile data from OIDC provider's userinfo endpoint","responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/DesignerDTO"}}}}},"summary":"Sync Designer Profile"}},"\/app-icon":{"get":{"tags":["app-icon"],"summary":"Get app icon","description":"","operationId":"getApp-icon","responses":{"307":{"headers":{"Location":{"schema":{"type":"string","format":"uri"}}},"description":"Redirect"}},"parameters":[{"in":"query","required":true,"name":"packageName","description":"The package name of the app.","schema":{"type":"string"}}]}},"\/icon-pack\/{iconPackId}\/version\/{versionId}":{"delete":{"operationId":"deleteIcon-packByIconPackIdVersionByVersionId","responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackVersionDTO"}}}}},"parameters":[{"schema":{"type":"string"},"in":"path","required":true,"name":"iconPackId"},{"schema":{"type":"string"},"in":"path","required":true,"name":"versionId"}],"description":"Delete an icon pack version, returns the deleted version","tags":["icon-pack"],"summary":"Delete icon pack version"}},"\/icon-pack\/{iconPackId}\/version\/create":{"post":{"parameters":[{"name":"iconPackId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackVersionCreate"}}}},"description":"Create a new icon pack version","responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackVersionDTO"}}},"description":"OK"}},"summary":"Create icon pack version","operationId":"postIcon-packByIconPackIdVersionCreate","tags":["icon-pack"]}},"\/icon-pack":{"get":{"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"items":{"$ref":"#\/components\/schemas\/IconPackDTO"},"type":"array"}}}}},"summary":"List icon packs","operationId":"getIcon-pack","tags":["icon-pack"],"description":"List all icon packs for the authenticated designer"}},"\/icon-pack\/{iconPackId}\/version\/{versionId}\/token":{"post":{"summary":"Create access token","tags":["icon-pack"],"requestBody":{"required":true,"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackVersionTokenRequest"}}}},"parameters":[{"required":true,"in":"path","schema":{"type":"string"},"name":"iconPackId"},{"required":true,"in":"path","schema":{"type":"string"},"name":"versionId"}],"description":"Generate an access token for an icon pack version","operationId":"postIcon-packByIconPackIdVersionByVersionIdToken","responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackVersionTokenResponse"}}},"description":"OK"}}}},"\/icon-pack\/create":{"post":{"summary":"Create icon pack","description":"Create a new icon pack","tags":["icon-pack"],"operationId":"postIcon-packCreate","requestBody":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackCreate"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackDTO"}}}}}}},"\/designer\/requests":{"get":{"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/PageAppInfoWithRequestCount"}}}}},"summary":"Get App Request Statistics","operationId":"getDesignerRequests","parameters":[{"required":false,"in":"query","name":"page","schema":{"type":"integer","format":"int64","nullable":true}},{"required":false,"in":"query","name":"per","schema":{"type":"integer","format":"int64","nullable":true}}],"description":"List all apps with request counts for the currently authenticated designer's icon packs, sorted by request count descending","tags":["designer"]}},"\/app-info\/create":{"post":{"summary":"Create or update app information","tags":["app-info"],"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"type":"array","items":{"$ref":"#\/components\/schemas\/AppInfoDTO"}}}}}},"description":"Creates or updates app information.\nIf an app with the same package name and main activity already exists, it will be updated. Otherwise, a new app will be created.\nLocalized names are also created or updated.\nA request record is created for each app to associate it with the authenticated icon pack.","requestBody":{"required":true,"content":{"application\/json":{"schema":{"items":{"$ref":"#\/components\/schemas\/AppInfoCreateSingleRequest"},"type":"array"}}}},"operationId":"postApp-infoCreate"}},"\/icon-pack\/{iconPackId}":{"get":{"parameters":[{"in":"path","schema":{"type":"string"},"required":true,"name":"iconPackId"}],"operationId":"getIcon-packByIconPackId","responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackDTO"}}},"description":"OK"}},"summary":"Get icon pack","description":"Get a specific icon pack by ID,\ndoes not include its icon pack verisons,\nuse `\/icon-pack\/:iconPackId\/versions` instead","tags":["icon-pack"]},"delete":{"parameters":[{"schema":{"type":"string"},"name":"iconPackId","required":true,"in":"path"}],"operationId":"deleteIcon-packByIconPackId","responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"type":"integer","format":"int64"}}}}},"summary":"Delete icon pack","description":"Delete an icon pack and all its versions","tags":["icon-pack"]},"put":{"tags":["icon-pack"],"requestBody":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackUpdate"}}},"required":true},"description":"Update an icon pack's name","responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/IconPackDTO"}}}}},"parameters":[{"schema":{"type":"string"},"name":"iconPackId","required":true,"in":"path"}],"operationId":"putIcon-packByIconPackId","summary":"Update icon pack"}},"\/app-icon\/generate-upload-url":{"get":{"summary":"Generate upload URL","tags":["app-icon"],"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/AppIconGenerateUploadURLResponse"}}}}},"operationId":"getApp-iconGenerate-upload-url","description":"","parameters":[{"in":"query","name":"packageName","required":true,"schema":{"type":"string"}}]}},"\/designer\/me":{"get":{"summary":"Get Current Designer","operationId":"getDesignerMe","description":"Get the currently authenticated designer's profile","tags":["designer"],"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/DesignerDTO"}}}}}}},"\/request-record\/{requestRecordId}":{"delete":{"description":"Delete a request record","parameters":[{"name":"requestRecordId","schema":{"type":"string"},"in":"path","required":true}],"responses":{"200":{"content":{"application\/json":{"schema":{"format":"int64","type":"integer"}}},"description":"OK"}},"tags":["request-record"],"summary":"Delete request","operationId":"deleteRequest-recordByRequestRecordId"}},"\/app-info\/search":{"get":{"parameters":[{"name":"query","schema":{"type":"string","nullable":true},"description":"Simple unified search - searches across name, packageName, and mainActivity","in":"query","required":false},{"name":"byName","schema":{"type":"string","nullable":true},"description":"Filter by localized app name (uses similarity matching)","in":"query","required":false},{"name":"byPackageName","schema":{"nullable":true,"type":"string"},"description":"Filter by package name (uses ILIKE matching)","in":"query","required":false},{"name":"byMainActivity","schema":{"type":"string","nullable":true},"description":"Filter by main activity (uses ILIKE matching)","in":"query","required":false},{"name":"sortBy","schema":{"$ref":"#\/components\/schemas\/AppInfoQueryRequestSortOption"},"description":"Sort order for results","in":"query","required":false}],"responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/PageAppInfoDTO"}}},"description":"OK"}},"tags":["app-info"],"operationId":"getApp-infoSearch","description":"Search for apps using a simple query or advanced filters. The `query` parameter searches across name, package name, and main activity. Advanced filters (byName, byPackageName, byMainActivity) can be combined with query using AND logic. Use `sortBy` to control result ordering.","summary":"Search for apps"}},"\/icon-pack\/{iconPackId}\/versions":{"get":{"tags":["icon-pack"],"responses":{"200":{"content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/PageIconPackVersionDTO"}}},"description":"OK"}},"parameters":[{"in":"query","required":false,"schema":{"type":"integer","format":"int64","nullable":true},"name":"page"},{"in":"query","required":false,"schema":{"format":"int64","nullable":true,"type":"integer"},"name":"per"},{"in":"path","required":true,"schema":{"type":"string"},"name":"iconPackId"}],"summary":"List icon pack versions","description":"List all versions for an icon pack,\nsorted by creation date in descending order","operationId":"getIcon-packByIconPackIdVersions"}}},"components":{"schemas":{"PageRequestRecordDTO":{"properties":{"items":{"type":"array","items":{"$ref":"#\/components\/schemas\/RequestRecordDTO"}},"metadata":{"$ref":"#\/components\/schemas\/PageMetadata"}},"type":"object","required":["items","metadata"]},"IconPackVersionTokenResponse":{"properties":{"token":{"type":"string"}},"type":"object","required":["token"]},"AppLocalizedNameDTO":{"required":["isPrimary","languageCode","name"],"type":"object","properties":{"updatedAt":{"type":"string","nullable":true,"format":"date-time"},"name":{"type":"string"},"id":{"type":"string","nullable":true,"format":"uuid"},"appInfo":{"$ref":"#\/components\/schemas\/AppInfoDTO"},"languageCode":{"type":"string"},"isPrimary":{"type":"boolean"},"createdAt":{"type":"string","nullable":true,"format":"date-time"}}},"AppInfoWithRequestCount":{"required":["appInfo","count"],"type":"object","properties":{"appInfo":{"$ref":"#\/components\/schemas\/AppInfoDTO"},"count":{"format":"int64","type":"integer"}}},"AppInfoCreateSingleRequest":{"properties":{"defaultName":{"description":"The default display name of the app (used as fallback when no localized name matches)","type":"string"},"localizedName":{"description":"The localized name of the app in the specified language","type":"string"},"mainActivity":{"description":"Android main activity class name (e.g., \"com.google.android.maps.MapsActivity\")","type":"string"},"packageName":{"description":"Android package name (e.g., \"com.google.android.apps.maps\")","type":"string"},"languageCode":{"description":"IETF language tag (e.g., \"en\", \"zh-Hans\", \"ja\")","type":"string"}},"type":"object","required":["defaultName","languageCode","localizedName","mainActivity","packageName"]},"IconPackUpdate":{"properties":{"name":{"type":"string"}},"type":"object","required":["name"]},"IconPackVersionDTO":{"required":["versionString"],"type":"object","properties":{"requestRecords":{"type":"array","items":{"$ref":"#\/components\/schemas\/RequestRecordDTO"},"nullable":true},"createdAt":{"type":"string","format":"date-time","nullable":true},"iconPack":{"$ref":"#\/components\/schemas\/IconPackDTO"},"versionString":{"type":"string"},"id":{"type":"string","format":"uuid","nullable":true}}},"PageAppInfoDTO":{"properties":{"items":{"items":{"$ref":"#\/components\/schemas\/AppInfoDTO"},"type":"array"},"metadata":{"$ref":"#\/components\/schemas\/PageMetadata"}},"type":"object","required":["items","metadata"]},"IconPackCreate":{"properties":{"name":{"type":"string"}},"type":"object","required":["name"]},"IconPackVersionTokenRequest":{"properties":{"expireAt":{"type":"string","format":"date-time"}},"type":"object","required":["expireAt"]},"PageAppInfoWithRequestCount":{"properties":{"items":{"items":{"$ref":"#\/components\/schemas\/AppInfoWithRequestCount"},"type":"array"},"metadata":{"$ref":"#\/components\/schemas\/PageMetadata"}},"type":"object","required":["items","metadata"]},"PageIconPackVersionDTO":{"properties":{"items":{"type":"array","items":{"$ref":"#\/components\/schemas\/IconPackVersionDTO"}},"metadata":{"$ref":"#\/components\/schemas\/PageMetadata"}},"type":"object","required":["items","metadata"]},"PageMetadata":{"properties":{"per":{"type":"integer","format":"int64"},"page":{"type":"integer","format":"int64"},"total":{"type":"integer","format":"int64"}},"type":"object","required":["page","per","total"]},"IconPackVersionCreate":{"properties":{"versionString":{"type":"string"}},"type":"object","required":["versionString"]},"AppIconGenerateUploadURLResponse":{"properties":{"uploadURL":{"type":"string","format":"uri"}},"type":"object","required":["uploadURL"]},"IconPackDTO":{"required":["name"],"type":"object","properties":{"designer":{"$ref":"#\/components\/schemas\/DesignerDTO"},"name":{"type":"string"},"versions":{"type":"array","nullable":true,"items":{"$ref":"#\/components\/schemas\/IconPackVersionDTO"}},"id":{"type":"string","format":"uuid","nullable":true},"createdAt":{"type":"string","format":"date-time","nullable":true},"updatedAt":{"type":"string","format":"date-time","nullable":true}}},"RequestRecordDTO":{"type":"object","properties":{"createdAt":{"type":"string","format":"date-time","nullable":true},"iconPackVersion":{"$ref":"#\/components\/schemas\/IconPackVersionDTO"},"deletedAt":{"type":"string","format":"date-time","nullable":true},"id":{"type":"string","format":"uuid","nullable":true},"appInfo":{"$ref":"#\/components\/schemas\/AppInfoDTO"}}},"DesignerDTO":{"required":["oidcIssuer","oidcSubject"],"type":"object","properties":{"updatedAt":{"type":"string","format":"date-time","nullable":true},"name":{"type":"string","nullable":true},"oidcSubject":{"type":"string"},"id":{"type":"string","format":"uuid","nullable":true},"email":{"type":"string","nullable":true},"iconPacks":{"type":"array","items":{"$ref":"#\/components\/schemas\/IconPackDTO"},"nullable":true},"oidcIssuer":{"type":"string"},"createdAt":{"type":"string","format":"date-time","nullable":true}}},"AppInfoDTO":{"required":["count","defaultName","mainActivity","packageName"],"type":"object","properties":{"packageName":{"type":"string"},"count":{"type":"integer","format":"int64"},"id":{"type":"string","format":"uuid","nullable":true},"defaultName":{"type":"string"},"mainActivity":{"type":"string"},"localizedNames":{"type":"array","items":{"$ref":"#\/components\/schemas\/AppLocalizedNameDTO"},"nullable":true},"createdAt":{"type":"string","format":"date-time","nullable":true}}},"AppInfoQueryRequestSortOption":{"type":"string","enum":["relevance","count"]}}},"tags":[{"name":"designer"},{"name":"app-info"},{"name":"icon-pack"},{"name":"app-icon"},{"name":"request-record"}]}